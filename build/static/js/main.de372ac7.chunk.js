(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{147:function(e,t,a){},202:function(e,t,a){},240:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(41),i=a.n(s),r=(a(202),a(46)),o=Object(r.b)({name:"todoData",initialState:{value:[{title:"",body:""}]},reducers:{updateTodoData:function(e,t){e.value=t.payload}}}),l=o.actions.updateTodoData,d=function(e){return e.todoData.value},j=o.reducer,u=Object(r.b)({name:"profileData",initialState:{value:[{firstName:"",lastName:""}]},reducers:{updateProfileData:function(e,t){e.value=t.payload[0]}}}),b=u.actions.updateProfileData,h=function(e){return e.profileData.value},x=u.reducer,O=Object(r.b)({name:"userAuthData",initialState:{value:!1},reducers:{updateUserAuthData:function(e,t){e.value=t.payload}}}),p=O.actions.updateUserAuthData,f=function(e){return e.userAuthData.value},v=O.reducer,m=Object(r.b)({name:"isLoadingData",initialState:{value:!0},reducers:{updateIsLoadingData:function(e,t){e.value=t.payload}}}),g=m.actions.updateIsLoadingData,y=function(e){return e.isLoadingData.value},w=m.reducer,N=Object(r.b)({name:"userData",initialState:{value:!0},reducers:{updateUserData:function(e,t){e.value=t.payload}}}),S=(N.actions.updateUserData,N.reducer),C=Object(r.a)({reducer:{todoData:j,profileData:x,userAuthData:v,isLoadingData:w,userData:S}}),D=a(27),A=a(0),I=a.n(A),k=a(4),T=(a(147),a(133)),P=a.n(T),L=a(107),U={apiKey:"AIzaSyDjriWqAwlwma04rJXXfZW8_3RaRQHzs8w",authDomain:"succulent-bfbf4.firebaseapp.com",projectId:"succulent-bfbf4",storageBucket:"succulent-bfbf4.appspot.com",messagingSenderId:"372415741597",appId:"1:372415741597:web:dfa6f76a475b3ca6855e74",measurementId:"G-YX5RDN8G4W"};Object(L.a)(U);var E=a(31),F=a(29),W=a(28),M=a(73),R=a(12),z=a(118),J=a(307),B=a(304),Y=a(308),_=a(111),G=a.n(_),V=a(112),K=a.n(V),X=a(113),H=a.n(X),q=a(2);function Q(){return Object(q.jsx)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start"},children:[1,2].map((function(e){return Object(q.jsxs)(J.a,{style:{margin:"10px",padding:"10px 20px",height:"200px",width:"350px",position:"relative"},children:[Object(q.jsx)(Y.a,{className:"preview-edit-delete-button",style:{position:"absolute",right:"75px"},children:Object(q.jsx)(G.a,{})}),Object(q.jsx)(Y.a,{className:"preview-edit-delete-button",style:{position:"absolute",right:"42px"},children:Object(q.jsx)(K.a,{})}),Object(q.jsx)(Y.a,{className:"preview-edit-delete-button",style:{position:"absolute",right:"10px"},children:Object(q.jsx)(H.a,{})}),Object(q.jsx)(B.a,{height:30,width:"60%"}),Object(q.jsx)(B.a,{height:20,width:"100%",style:{marginTop:17}}),Object(q.jsx)(B.a,{height:20,width:"100%"}),Object(q.jsx)(B.a,{height:20,width:"50%"}),Object(q.jsx)(B.a,{height:20,width:"40%",style:{marginTop:45}})]},e)}))})}function Z(){return Object(q.jsx)("div",{children:Object(q.jsx)(J.a,{style:{padding:"40px 40px",height:"auto",position:"relative"},children:Object(q.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",alignItems:"center"},children:[Object(q.jsx)("div",{children:Object(q.jsx)(B.a,{variant:"circular",width:200,height:200,style:{marginBottom:"40px"}})}),Object(q.jsx)("div",{style:{marginLeft:"40px"},children:Object(q.jsxs)("div",{style:{minWidth:"200px"},children:[Object(q.jsx)(B.a,{height:20,width:"100%"}),Object(q.jsx)(B.a,{height:20,width:"100%"}),Object(q.jsx)(B.a,{height:20,width:"80%"})]})})]})})})}var $=a(309);function ee(){return Object(q.jsx)("div",{style:{width:"100%",textAlign:"center",margin:"100px auto"},children:Object(q.jsx)($.a,{})})}var te=a(6),ae=a(311),ne=a(315),ce=a(313),se=a(314),ie=a(312),re=a(167),oe=a.n(re),le=a(299),de=a(319),je=a(320);function ue(){var e=Object(n.useState)(!1),t=Object(R.a)(e,2),a=t[0],c=t[1],s=Object(E.b)(),i=Object(D.b)(),r=function(){var e=Object(k.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(l([{title:"",body:""}])),i(b([{firstName:"",lastName:""}])),e.next=4,Object(E.e)(s).then((function(){console.log("Sign-out successful.")})).catch((function(e){console.log("Sign-out failed: ".concat(e))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(q.jsxs)("div",{children:[Object(q.jsxs)(le.a,{button:!0,onClick:function(){c(!0)},style:{padding:"10px 30px"},children:[Object(q.jsx)(de.a,{children:Object(q.jsx)(oe.a,{})}),Object(q.jsx)(je.a,{primary:"Logout"})]}),Object(q.jsxs)(ae.a,{open:a,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(q.jsx)(ie.a,{id:"alert-dialog-title",children:"Confirm logout"}),Object(q.jsx)(ce.a,{children:Object(q.jsx)(se.a,{id:"alert-dialog-description",children:"Are you sure you logout?"})}),Object(q.jsx)(ne.a,{children:Object(q.jsx)(Y.a,{onClick:r,autoFocus:!0,children:"Logout"})})]})]})}var be=a(317),he=a(305),xe=a(316),Oe=a(321),pe=a(322),fe=a(169),ve=a.n(fe),me=a(170),ge=a.n(me),ye=a(303);function we(){var e=Object(D.c)(h),t=Object(D.c)(y),a=Object(D.c)(f),c=Object(n.useState)(""),s=Object(R.a)(c,2),i=s[0],r=s[1],o=Object(n.useState)(""),l=Object(R.a)(o,2),d=l[0],j=l[1];Object(n.useEffect)((function(){var t=function(){var t=Object(k.a)(I.a.mark((function t(){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&(r(e.firstName),j(e.lastName));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]);return Object(q.jsxs)(he.a,{variant:"permanent",sx:Object(te.a)({width:240,flexShrink:0},"& .MuiDrawer-paper",{width:240,boxSizing:"border-box"}),children:[Object(q.jsx)(xe.a,{}),Object(q.jsxs)(be.a,{sx:{overflow:"auto"},children:[Object(q.jsx)(Oe.a,{children:Object(q.jsx)(le.a,{style:{padding:"30px 0px 0px 0px",display:"inline-flex",justifyContent:"center"},children:Object(q.jsx)("div",{children:t||a&&""===i?Object(q.jsx)(B.a,{variant:"circular",width:100,height:100}):Object(q.jsx)(ye.a,{alt:"Avatar",sx:{width:100,height:100}})})})}),Object(q.jsx)(Oe.a,{children:Object(q.jsx)(le.a,{button:!0,style:{padding:"10px 20px",textAlign:"center"},children:Object(q.jsx)(je.a,{primary:t||a&&""===i?Object(q.jsx)(B.a,{variant:"text",height:20,width:"70%",style:{textAlign:"center",margin:"-2px auto 0px auto"}}):"".concat(i," ").concat(d)})})}),Object(q.jsx)(pe.a,{}),Object(q.jsxs)(Oe.a,{children:[Object(q.jsx)(F.b,{to:"/create",children:Object(q.jsxs)(le.a,{button:!0,style:{padding:"10px 30px"},children:[Object(q.jsx)(de.a,{children:Object(q.jsx)(ve.a,{})}),Object(q.jsx)(je.a,{primary:"Create Todo"})]})}),Object(q.jsx)(F.b,{to:"/profile",children:Object(q.jsxs)(le.a,{button:!0,style:{padding:"10px 30px"},children:[Object(q.jsx)(de.a,{children:Object(q.jsx)(ge.a,{})}),Object(q.jsx)(je.a,{primary:"Profile"})]})}),Object(q.jsx)(ue,{})]})]})]})}var Ne=a(318),Se=a(296),Ce=a(310);function De(e){var t=e.children;return Object(q.jsx)("div",{children:Object(q.jsxs)(be.a,{sx:{display:"flex"},children:[Object(q.jsx)(Se.a,{}),Object(q.jsx)(Ne.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},style:{backgroundColor:"#1976d2",color:"#ffffff"},children:Object(q.jsx)(xe.a,{children:Object(q.jsx)(F.b,{to:"/dashboard",children:Object(q.jsx)(Ce.a,{variant:"h6",noWrap:!0,component:"div",style:{color:"#ffffff"},children:"Todo List"})})})}),Object(q.jsx)(we,{}),Object(q.jsxs)(be.a,{component:"main",sx:{flexGrow:1,p:3},children:[Object(q.jsx)(xe.a,{}),t]})]})})}var Ae=["component"],Ie=function(e){var t,a=e.component,c=Object(z.a)(e,Ae),s=Object(D.c)(f),i=Object(D.c)(y),r=Object(D.c)(d),o=Object(n.useState)(""),l=Object(R.a)(o,2),j=l[0],u=l[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(k.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r[0]&&u(r[0].title);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r]),"/dashboard"===c.path?t=Object(q.jsx)(Q,{}):"/profile"===c.path?t=Object(q.jsx)(Z,{}):("/create"===c.path||"/update/:todoId"===c.path)&&(t=Object(q.jsx)(ee,{})),Object(q.jsx)(De,{children:Object(q.jsx)(W.b,Object(M.a)(Object(M.a)({},c),{},{render:function(e){return i||s&&""===j?t:s?Object(q.jsx)(a,Object(M.a)({},e)):Object(q.jsx)(W.a,{to:"/signin"})}}))})},ke=["component"],Te=function(e){var t=e.component,a=Object(z.a)(e,ke),n=Object(D.c)(f);return Object(q.jsx)(W.b,Object(M.a)(Object(M.a)({},a),{},{render:function(e){return n?Object(q.jsx)(W.a,{to:"/dashboard"}):Object(q.jsx)(t,Object(M.a)({},e))}}))},Pe=a(77);function Le(e){var t=e.passwordShown,a=e.setPasswordShown;return Object(q.jsx)("div",{onClick:function(){a(!t)},type:"button",className:"password-toggle-button",children:"Show Password"})}var Ue=a(171),Ee=a.n(Ue);function Fe(e){var t=e.children,a=e.disabled;return Object(q.jsx)("div",{style:{margin:"0 auto",textAlign:"center"},children:Object(q.jsxs)(Y.a,{type:"submit",variant:"contained",disabled:a,style:a?{padding:"10px 14px 10px 25px",borderRadius:"25px"}:{backgroundColor:"#1976d2",padding:"10px 14px 10px 25px",borderRadius:"25px"},children:[t,Object(q.jsx)(Ee.a,{className:"arrowIcon"})]})})}var We=a(172),Me=a.n(We);function Re(){return Object(q.jsx)("div",{style:{textAlign:"center",margin:"20px auto"},children:Object(q.jsx)(Me.a,{style:{fontSize:"50px",color:"#1976d2"}})})}var ze=a(297),Je=a(119);function Be(){var e=Object(n.useState)(""),t=Object(R.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),i=Object(R.a)(s,2),r=i[0],o=i[1],l=Object(n.useState)(""),d=Object(R.a)(l,2),j=d[0],u=d[1],b=Object(n.useState)(""),h=Object(R.a)(b,2),x=h[0],O=h[1],p=Object(n.useState)(""),f=Object(R.a)(p,2),v=f[0],m=f[1],g=Object(n.useState)(!1),y=Object(R.a)(g,2),w=y[0],N=y[1],S=Object(n.useState)(!1),C=Object(R.a)(S,2),D=C[0],A=C[1];var T=Object(Je.a)(8),P=new Date,L=P.getFullYear()+"-"+(P.getMonth()+1)+"-"+P.getDate(),U=Object(n.useState)(null),W=Object(R.a)(U,2),M=W[0],z=W[1],J=Object(E.b)(),B=Object(Pe.b)();return Object(q.jsxs)("div",{className:"Login",children:[Object(q.jsx)(Re,{}),Object(q.jsx)("div",{className:"login-title",children:"Sign up"}),Object(q.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),x===v?Object(E.a)(J,j,x).then(function(){var e=Object(k.a)(I.a.mark((function e(t){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,console.log("user ".concat(n.uid," is created")),e.prev=2,e.next=5,Object(Pe.c)(Object(Pe.a)(B,n.uid,"userInfo"),{userUid:n.uid,firstName:a,lastName:r,email:n.email});case 5:return e.next=7,Object(Pe.c)(Object(Pe.a)(B,n.uid,"todos","active",T),{todoId:T,title:"Test",body:"This is where you can write contents.",createdAt:L});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error adding document: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){var t=e.code,a=e.message;console.log(t),console.log(a),z(a)})):z("Your password and confirmation password do not match.")},children:[Object(q.jsx)("div",{className:"register-error-message",children:M}),Object(q.jsx)("div",{className:"title",children:"First Name"}),Object(q.jsx)("div",{className:"textfield-title",children:Object(q.jsx)(ze.a,{autoFocus:!0,variant:"outlined",name:"firstName",style:{width:"100%"},value:a,onChange:function(e){return c(e.target.value)}})}),Object(q.jsx)("div",{className:"body",children:"Last Name"}),Object(q.jsx)("div",{className:"textfield-title",children:Object(q.jsx)(ze.a,{variant:"outlined",name:"lastName",style:{width:"100%"},value:r,onChange:function(e){return o(e.target.value)}})}),Object(q.jsx)("div",{className:"body",children:"Email"}),Object(q.jsx)("div",{className:"textfield-title",children:Object(q.jsx)(ze.a,{variant:"outlined",name:"email",style:{width:"100%"},value:j,onChange:function(e){return u(e.target.value)}})}),Object(q.jsxs)("div",{className:"password-text-container",children:[Object(q.jsx)("div",{children:"Password"}),Object(q.jsx)(Le,{passwordShown:w,setPasswordShown:N})]}),Object(q.jsx)("div",{className:"textfield-title",children:Object(q.jsx)(ze.a,{variant:"outlined",name:"password",type:w?"text":"password",style:{width:"100%"},value:x,onChange:function(e){return O(e.target.value)}})}),Object(q.jsxs)("div",{className:"password-text-container",children:[Object(q.jsx)("div",{children:"Confirm Password"}),Object(q.jsx)(Le,{passwordShown:D,setPasswordShown:A})]}),Object(q.jsx)("div",{className:"textfield-title",children:Object(q.jsx)(ze.a,{variant:"outlined",name:"confirmPassword",type:D?"text":"password",style:{width:"100%"},value:v,onChange:function(e){return m(e.target.value)}})}),Object(q.jsx)("div",{className:"login-button",children:Object(q.jsx)(Fe,{type:"submit",disabled:!(a.length>0&&r.length>0&&j.length>0&&x.length>0),children:"Signup"})}),Object(q.jsx)(F.b,{to:"/signin",children:Object(q.jsx)("div",{className:"toggle-signin-signup",children:"Already have an account? Sign in"})})]})]})}function Ye(){var e=Object(n.useState)(""),t=Object(R.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),i=Object(R.a)(s,2),r=i[0],o=i[1],l=Object(n.useState)(!1),d=Object(R.a)(l,2),j=d[0],u=d[1];var b=Object(n.useState)(null),h=Object(R.a)(b,2),x=h[0],O=h[1],p=Object(E.b)();function f(){return(f=Object(k.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),Object(E.d)(p,a,r).then((function(e){var t=e.user;console.log(t)})).catch((function(e){O(e.message)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(q.jsxs)("div",{className:"Login",children:[Object(q.jsx)(Re,{}),Object(q.jsx)("div",{className:"login-title",children:"Sign in"}),Object(q.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){return f.apply(this,arguments)},children:[Object(q.jsx)("div",{className:"register-error-message",children:x}),Object(q.jsx)("div",{className:"title",children:"Email"}),Object(q.jsx)("div",{className:"textfield-title",children:Object(q.jsx)(ze.a,{autoFocus:!0,variant:"outlined",name:"email",style:{width:"100%"},value:a,onChange:function(e){return c(e.target.value)}})}),Object(q.jsxs)("div",{className:"password-text-container",children:[Object(q.jsx)("div",{children:"Password"}),Object(q.jsx)(Le,{passwordShown:j,setPasswordShown:u})]}),Object(q.jsx)("div",{className:"textfield-title",children:Object(q.jsx)(ze.a,{variant:"outlined",name:"password",type:j?"text":"password",style:{width:"100%"},value:r,onChange:function(e){return o(e.target.value)}})}),Object(q.jsx)("div",{className:"login-button",children:Object(q.jsx)(Fe,{type:"submit",disabled:!(a.length>0&&r.length>0),children:"Login"})}),Object(q.jsx)(F.b,{to:"/signup",children:Object(q.jsx)("div",{className:"toggle-signin-signup",children:"Don't have an account? Sign up"})})]})]})}function _e(e){var t=e.todoId,a=e.title,c=e.body,s=e.createdAt,i=e.updatedAt,r=Object(n.useState)(!1),o=Object(R.a)(r,2),l=o[0],d=o[1],j=function(){d(!1)},u=Object(n.useRef)(null);return Object(n.useEffect)((function(){if(l){var e=u.current;null!==e&&e.focus()}}),[l]),Object(q.jsxs)("div",{children:[Object(q.jsx)(Y.a,{onClick:function(){d(!0)},className:"preview-edit-delete-button",style:{position:"absolute",right:"75px"},children:Object(q.jsx)(G.a,{})}),Object(q.jsxs)(ae.a,{open:l,onClose:j,scroll:"paper",fullWidth:!0,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(q.jsx)(ie.a,{className:"title-dialog",children:a}),Object(q.jsx)(ce.a,{dividers:!0,children:Object(q.jsxs)(se.a,{className:"body-dialog",ref:u,tabIndex:-1,component:"div",children:[c,Object(q.jsxs)("div",{className:"created-dialog",children:["Created: ",s,i&&Object(q.jsxs)("span",{className:"updated-dialog",children:["Updated: ",i]})]})]})}),Object(q.jsxs)(ne.a,{children:[Object(q.jsx)(F.b,{to:"/update/".concat(t),children:Object(q.jsx)(Y.a,{onClick:j,children:"Modify"})}),Object(q.jsx)(Y.a,{onClick:j,children:"Close"})]})]})]})}var Ge=a(301);function Ve(e){var t=e.todoId;return Object(q.jsx)(F.b,{to:"/update/".concat(t),children:Object(q.jsx)(Ge.a,{className:"preview-edit-delete-button",style:{position:"absolute",right:"42px"},children:Object(q.jsx)(K.a,{})})})}var Ke="https://fullstack-todo-backend-misako.herokuapp.com";function Xe(e){var t=e.todoId,a=e.setOpen,n=Object(E.b)().currentUser.uid,c=function(e){try{fetch("".concat(Ke,"/delete/").concat(n,"/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"},mode:"cors"}),console.log("Success")}catch(t){console.log(t)}finally{a(!1)}};return Object(q.jsx)(Ge.a,{onClick:function(){return c(t)},autoFocus:!0,className:"delete-button",children:"Delete"})}function He(e){var t=e.todoId,a=e.title,c=Object(n.useState)(!1),s=Object(R.a)(c,2),i=s[0],r=s[1],o=function(){r(!1)};return Object(q.jsxs)("div",{children:[Object(q.jsx)(Y.a,{onClick:function(){r(!0)},className:"preview-edit-delete-button",style:{position:"absolute",right:"10px"},children:Object(q.jsx)(H.a,{})}),Object(q.jsxs)(ae.a,{open:i,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(q.jsx)(ie.a,{id:"alert-dialog-title",children:"Confirm delete"}),Object(q.jsx)(ce.a,{children:Object(q.jsxs)(se.a,{id:"alert-dialog-description",children:['Are you sure you want to delete "',a,'"?']})}),Object(q.jsxs)(ne.a,{children:[Object(q.jsx)(Y.a,{onClick:o,children:"Cancel"}),Object(q.jsx)(Xe,{todoId:t,setOpen:r})]})]})]})}function qe(e){var t=e.title,a=e.body,n=e.createdAt,c=e.updatedAt;return Object(q.jsxs)("div",{children:[Object(q.jsxs)("div",{className:"todo-createdAt",children:["Created: ",n]}),c&&Object(q.jsxs)("div",{className:"todo-updatedAt",children:["Updated: ",c]}),Object(q.jsx)("div",{className:"todo-title",children:t}),Object(q.jsx)("div",{className:"todo-body",children:a})]})}function Qe(){var e=Object(D.c)(d);return Object(q.jsx)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start"},children:e.map((function(e,t){return Object(q.jsxs)(J.a,{style:{margin:"10px",padding:"10px 20px",height:"200px",width:"350px",position:"relative"},children:[Object(q.jsx)(_e,{todoId:e.todoId,title:e.title,body:e.body,createdAt:e.createdAt,updatedAt:e.updatedAt}),Object(q.jsx)(Ve,{todoId:e.todoId}),Object(q.jsx)(He,{todoId:e.todoId,title:e.title}),Object(q.jsx)(qe,{title:e.title,body:e.body,createdAt:e.createdAt,updatedAt:e.updatedAt})]},t)}))})}function Ze(){var e=Object(D.c)(h);if(e)return Object(q.jsx)("div",{children:Object(q.jsx)(J.a,{style:{padding:"40px 40px",height:"auto",position:"relative"},children:Object(q.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",alignItems:"center"},children:[Object(q.jsxs)("div",{children:[Object(q.jsx)(ye.a,{alt:"Avatar",sx:{width:200,height:200},children:"M"}),Object(q.jsx)("div",{style:{textAlign:"center",marginTop:"20px"},children:"Upload picture"})]}),Object(q.jsxs)("div",{style:{marginLeft:"40px"},children:[Object(q.jsxs)("div",{children:["First Name: ",e.firstName]}),Object(q.jsxs)("div",{children:["Last Name: ",e.lastName]}),Object(q.jsxs)("div",{children:["Email: ",e.email]}),Object(q.jsx)("div",{children:"Edit"})]})]})})})}function $e(){var e=Object(n.useState)(""),t=Object(R.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),i=Object(R.a)(s,2),r=i[0],o=i[1],l=Object(n.useState)(""),d=Object(R.a)(l,2),j=d[0],u=d[1],b=Object(n.useState)(""),h=Object(R.a)(b,2),x=h[0],O=h[1],p=Object(E.b)().currentUser.uid;console.log(p);var f=Object(Je.a)(8),v=new Date,m=v.getFullYear()+"-"+(v.getMonth()+1)+"-"+v.getDate(),g={userUid:p,todoId:f,title:a,body:r,createdAt:m},y=Object(W.g)();return Object(q.jsx)("div",{children:Object(q.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){if(e.preventDefault(),""===a&&""===r)u("Please type something"),O("Please type something");else if(""===a)u("Please type something");else if(""===r)O("Please type something");else try{fetch("".concat(Ke,"/push_data_to_db"),{method:"POST",body:JSON.stringify(g),headers:{"Content-Type":"application/json"},mode:"cors"}),console.log("Success"),c(""),o(""),u(""),O(""),y.push("/dashboard")}catch(t){console.log(t)}},children:[Object(q.jsxs)("div",{className:"title",children:["Title:",Object(q.jsx)("span",{className:"error-message",children:j})]}),Object(q.jsx)("div",{className:"textfield-title",children:Object(q.jsx)(ze.a,{placeholder:"Type here ...",variant:"outlined",multiline:!0,rows:1,name:"letter",style:{width:"100%"},value:a||"",onChange:function(e){return c(e.target.value)}})}),Object(q.jsxs)("div",{className:"body",children:["Body:",Object(q.jsx)("span",{className:"error-message",children:x})]}),Object(q.jsx)("div",{className:"textfield-body",children:Object(q.jsx)(ze.a,{placeholder:"Type here ...",variant:"outlined",multiline:!0,rows:18,name:"letter",style:{width:"100%"},value:r||"",onChange:function(e){return o(e.target.value)}})}),Object(q.jsx)(Fe,{children:"Add"})]})})}function et(){var e=Object(W.h)().todoId,t=Object(D.c)(d),a=Object(n.useState)(""),c=Object(R.a)(a,2),s=c[0],i=c[1],r=Object(n.useState)(""),o=Object(R.a)(r,2),l=o[0],j=o[1];Object(n.useEffect)((function(){var a=function(){var a=Object(k.a)(I.a.mark((function a(){var n;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.find((function(t){return t.todoId===e}));case 2:(n=a.sent)&&(i(n.title),j(n.body));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();a()}),[t,e]);var u=Object(n.useState)(""),b=Object(R.a)(u,2),h=b[0],x=b[1],O=Object(n.useState)(""),p=Object(R.a)(O,2),f=p[0],v=p[1],m=Object(E.b)().currentUser.uid,g=new Date,y=g.getFullYear()+"-"+(g.getMonth()+1)+"-"+g.getDate(),w={userUid:m,title:s,body:l,updatedAt:y},N=Object(W.g)();return t?Object(q.jsx)("div",{children:Object(q.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(t){if(t.preventDefault(),""===s&&""===l)x("Please type something"),v("Please type something");else if(""===s)x("Please type something"),N.push("/update/".concat(e));else if(""===l)v("Please type something");else try{fetch("".concat(Ke,"/update/").concat(e),{method:"PUT",body:JSON.stringify(w),headers:{"Content-Type":"application/json"},mode:"cors"})}catch(a){console.log(a)}finally{N.push("/dashboard")}},children:[Object(q.jsxs)("div",{className:"title",children:["Title:",Object(q.jsx)("span",{className:"error-message",children:h})]}),Object(q.jsx)("div",{className:"textfield-title",children:Object(q.jsx)(ze.a,{variant:"outlined",multiline:!0,rows:1,name:"title",style:{width:"100%"},value:s,onChange:function(e){return i(e.target.value)}})}),Object(q.jsxs)("div",{className:"body",children:["Body:",Object(q.jsx)("span",{className:"error-message",children:f})]}),Object(q.jsx)("div",{className:"textfield-body",children:Object(q.jsx)(ze.a,{variant:"outlined",multiline:!0,rows:18,name:"body",style:{width:"100%"},value:l,onChange:function(e){return j(e.target.value)}})}),Object(q.jsx)(Fe,{children:"Update"})]})}):null}var tt=function(){return Object(q.jsxs)("div",{style:{textAlign:"center",margin:"100px auto 100px auto",color:"#383838"},children:[Object(q.jsx)("h1",{children:"404 - Not Found :("}),Object(q.jsx)(F.b,{to:"/signin",children:"Go Home"})]})};function at(){Object(L.a)(U);var e=Object(D.b)(),t=Object(E.b)();return Object(n.useEffect)((function(){var a=Object(E.c)(t,function(){var a=Object(k.a)(I.a.mark((function a(n){var c,s,i;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c=null,!n){a.next=22;break}return e(p(!0)),s=n.uid,i={uid:s},console.log("Auth OK, user logged in ".concat(s)),P()(Ke).on("newChangesInTodos",(function(t){e(l(t))})),P()(Ke).on("newChangesInProfile",(function(t){e(b(t)),e(g(!1)),console.log("Loading OK")})),console.log("Socket opened"),a.prev=11,a.next=14,fetch("".concat(Ke,"/catch-user-uid"),{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){console.log(e)}))}));case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(11),console.log(a.t0);case 19:n.getIdTokenResult().then((function(e){var a=1e3*e.claims.auth_time,n=36e5-(Date.now()-a);c=setTimeout((function(){return Object(E.e)(t).then((function(){console.log("Session timeout. Sign-out successful.")})).catch((function(e){console.log("Session timeout. Sign-out failed: ".concat(e))}))}),n)})),a.next=26;break;case 22:e(p(!1)),e(g(!1)),clearTimeout(c),c=null;case 26:case"end":return a.stop()}}),a,null,[[11,16]])})));return function(e){return a.apply(this,arguments)}}());return function(){return a((function(){}))}}),[t,e]),Object(q.jsx)("div",{className:"App",children:Object(q.jsx)(F.a,{children:Object(q.jsxs)(W.d,{children:[Object(q.jsx)(Te,{exact:!0,path:"/signup",component:Be}),Object(q.jsx)(Te,{exact:!0,path:"/signin",component:Ye}),Object(q.jsx)(Ie,{exact:!0,path:"/dashboard",component:Qe}),Object(q.jsx)(Ie,{exact:!0,path:"/profile",component:Ze}),Object(q.jsx)(Ie,{exact:!0,path:"/create",component:$e}),Object(q.jsx)(Ie,{exact:!0,path:"/update/:todoId",component:et}),Object(q.jsx)(W.b,{component:tt})]})})})}i.a.render(Object(q.jsx)(c.a.StrictMode,{children:Object(q.jsx)(D.a,{store:C,children:Object(q.jsx)(at,{})})}),document.getElementById("root"))}},[[240,1,2]]]);
//# sourceMappingURL=main.de372ac7.chunk.js.map