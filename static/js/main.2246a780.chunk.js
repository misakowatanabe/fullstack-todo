(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{192:function(e,t,n){},197:function(e,t,n){},230:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),s=n(60),r=n.n(s),i=(n(192),n(43)),o=Object(i.b)({name:"todoData",initialState:{value:[{title:"",body:""}]},reducers:{updateTodoData:function(e,t){e.value=t.payload}}}),d=o.actions.updateTodoData,l=function(e){return e.todoData.value},j=o.reducer,u=Object(i.b)({name:"profileData",initialState:{value:[{firstName:"",lastName:""}]},reducers:{updateProfileData:function(e,t){e.value=t.payload[0]}}}),b=u.actions.updateProfileData,x=u.reducer,h=Object(i.b)({name:"userAuthData",initialState:{value:!1},reducers:{updateUserAuthData:function(e,t){e.value=t.payload}}}),O=h.actions.updateUserAuthData,p=function(e){return e.userAuthData.value},m=h.reducer,v=Object(i.b)({name:"isLoadingData",initialState:{value:!0},reducers:{updateIsLoadingData:function(e,t){e.value=t.payload}}}),f=v.actions.updateIsLoadingData,g=function(e){return e.isLoadingData.value},y=v.reducer,w=Object(i.b)({name:"userData",initialState:{value:!0},reducers:{updateUserData:function(e,t){e.value=t.payload}}}),S=(w.actions.updateUserData,w.reducer),N=Object(i.b)({name:"snackbar",initialState:{value:!1,message:"",severity:"success"},reducers:{updateSnackbar:function(e,t){e.value=t.payload.value,e.message=t.payload.message,e.severity=t.payload.severity}}}),C=N.actions.updateSnackbar,k=function(e){return e.snackbar},D=N.reducer,A=Object(i.a)({reducer:{todoData:j,profileData:x,userAuthData:m,isLoadingData:y,userData:S,snackbar:D}}),T=n(25),I=n(1),E=n.n(I),L=n(4),U=(n(197),n(131)),P=n.n(U),M=n(98),z={apiKey:"AIzaSyDjriWqAwlwma04rJXXfZW8_3RaRQHzs8w",authDomain:"succulent-bfbf4.firebaseapp.com",projectId:"succulent-bfbf4",storageBucket:"succulent-bfbf4.appspot.com",messagingSenderId:"372415741597",appId:"1:372415741597:web:dfa6f76a475b3ca6855e74",measurementId:"G-YX5RDN8G4W"};Object(M.a)(z);var F=n(24),W=n(27),B=n(30),R=n(62),J=n(12),Y=n(108),G=n(296),_=n(0);function H(e){var t=e.children;return Object(_.jsx)(G.a,{sx:{margin:{xs:"10px 0px",sm:"10px"},padding:"10px 20px",height:"200px",width:{xs:"100%",sm:"350px"},minWidth:{sm:"292px"},position:"relative"},children:t})}var V=n(276);function K(e){var t=e.children;return Object(_.jsx)(V.a,{sx:{display:"flex",flexWrap:"wrap",justifyContent:{xs:"center",sm:"flex-start"}},children:t})}var X=n(292),q=n(297),Q=n(102),Z=n.n(Q),$=n(103),ee=n.n($),te=n(104),ne=n.n(te);function ae(){return Object(_.jsx)(K,{children:[1,2].map((function(e){return Object(_.jsxs)(H,{children:[Object(_.jsx)(q.a,{className:"preview-edit-delete-button",style:{position:"absolute",right:"75px"},children:Object(_.jsx)(Z.a,{})}),Object(_.jsx)(q.a,{className:"preview-edit-delete-button",style:{position:"absolute",right:"42px"},children:Object(_.jsx)(ee.a,{})}),Object(_.jsx)(q.a,{className:"preview-edit-delete-button",style:{position:"absolute",right:"10px"},children:Object(_.jsx)(ne.a,{})}),Object(_.jsx)(X.a,{height:30,width:"60%"}),Object(_.jsx)(X.a,{height:20,width:"100%",style:{marginTop:17}}),Object(_.jsx)(X.a,{height:20,width:"100%"}),Object(_.jsx)(X.a,{height:20,width:"50%"}),Object(_.jsx)(X.a,{height:20,width:"40%",style:{marginTop:45}})]},e)}))})}var ce=n(291);function se(e){var t=e.children;return Object(_.jsx)("div",{children:Object(_.jsx)(G.a,{sx:{padding:{xs:"20px 20px",sm:"40px 40px"},height:"auto",position:"relative"},children:Object(_.jsx)(V.a,{children:Object(_.jsx)(ce.a,{container:!0,sx:{alignItems:"center",justifyContent:"space-around"},children:t})})})})}var re=n(290);function ie(e){var t=e.children,n=e.handleClickOpen;return Object(_.jsx)(G.a,{sx:{marginTop:"20px",padding:{xs:"20px 20px",sm:"40px 40px"},height:"auto",position:"relative"},children:Object(_.jsx)(re.a,{button:!0,onClick:n,style:{padding:"10px 15px"},children:t})})}function oe(){return Object(_.jsxs)("div",{children:[Object(_.jsxs)(se,{children:[Object(_.jsx)(ce.a,{item:!0,sx:{padding:"10px"},children:Object(_.jsx)(X.a,{variant:"circular",width:200,height:200})}),Object(_.jsx)(ce.a,{item:!0,sx:{padding:"10px"},children:Object(_.jsx)("div",{children:Object(_.jsxs)("div",{style:{minWidth:"200px"},children:[Object(_.jsx)(X.a,{height:24,width:"100%"}),Object(_.jsx)(X.a,{height:24,width:"100%"}),Object(_.jsx)(X.a,{height:24,width:"80%"})]})})})]}),Object(_.jsx)(ie,{children:Object(_.jsx)("div",{style:{minWidth:"200px",padding:"4px 0px"},children:Object(_.jsx)(X.a,{height:25,width:"100%"})})})]})}var de=n(298);function le(){return Object(_.jsx)("div",{style:{width:"100%",textAlign:"center",margin:"100px auto"},children:Object(_.jsx)(de.a,{})})}var je=n(80),ue=n.n(je),be=n(293);function xe(){var e=Object(F.b)().currentUser,t=null;null!==e&&(t=e.displayName);var n=function(){return null===t?Object(_.jsx)(X.a,{variant:"circular",width:100,height:100}):Object(_.jsx)(be.a,{alt:"Avatar",sx:{width:100,height:100},children:Object(_.jsx)(ue.a,{style:{fontSize:"70px"}})})};return Object(_.jsx)(re.a,{style:{padding:"30px 0px 0px 0px",display:"inline-flex",justifyContent:"center"},children:Object(_.jsx)(n,{})})}var he=n(299);function Oe(){var e=Object(F.b)().currentUser,t=null;null!==e&&(t=e.displayName);var n=function(){return null===t?Object(_.jsx)(X.a,{variant:"text",height:20,width:"70%",style:{textAlign:"center",margin:"-2px auto 0px auto"}}):Object(_.jsx)("div",{children:t})};return Object(_.jsx)(re.a,{style:{padding:"10px 20px",textAlign:"center"},children:Object(_.jsx)(he.a,{primary:Object(_.jsx)(n,{})})})}var pe=n(300),me=n(163),ve=n.n(me);function fe(){var e=[{text:"Create Todo",link:"/create",icon:Object(_.jsx)(ve.a,{})},{text:"Account",link:"/account",icon:Object(_.jsx)(ue.a,{})}];return Object(_.jsx)("div",{children:e.map((function(e){var t=e.text,n=e.link,a=e.icon;return Object(_.jsx)(W.b,{to:"".concat(n),children:Object(_.jsxs)(re.a,{button:!0,style:{padding:"10px 30px"},children:[Object(_.jsx)(pe.a,{children:a}),Object(_.jsx)(he.a,{primary:t})]})},"".concat(t))}))})}function ge(){var e=Object(F.b)(),t=Object(T.b)();return Object(_.jsx)(q.a,{onClick:function(){t(d([{title:"",body:""}])),t(b([{firstName:"",lastName:""}])),Object(F.e)(e).then((function(){t(C({value:!0,message:"Sign out successful!",severity:"success"}))})).catch((function(e){t(C({value:!0,message:"Something went wrong with sign out",severity:"error"}))}))},autoFocus:!0,className:"signout-button",children:"Sign out"})}var ye=n(301),we=n(305),Se=n(303),Ne=n(304),Ce=n(302),ke=n(165),De=n.n(ke);function Ae(){var e=Object(a.useState)(!1),t=Object(J.a)(e,2),n=t[0],c=t[1],s=function(){c(!1)};return Object(_.jsxs)("div",{children:[Object(_.jsxs)(re.a,{button:!0,onClick:function(){c(!0)},style:{padding:"10px 30px"},children:[Object(_.jsx)(pe.a,{children:Object(_.jsx)(De.a,{})}),Object(_.jsx)(he.a,{primary:"Sign Out"})]}),Object(_.jsxs)(ye.a,{open:n,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(_.jsx)(Ce.a,{id:"alert-dialog-title",children:"Confirm sign out"}),Object(_.jsx)(Se.a,{children:Object(_.jsx)(Ne.a,{id:"alert-dialog-description",children:"Are you sure you sign out?"})}),Object(_.jsxs)(we.a,{children:[Object(_.jsx)(q.a,{onClick:s,children:"Cancel"}),Object(_.jsx)(ge,{})]})]})]})}var Te=n(310),Ie=n(306),Ee=n(281),Le=n(309),Ue=n(311),Pe=n(166),Me=n.n(Pe);function ze(e){var t=e.handleDrawerToggle;return Object(_.jsxs)("div",{children:[Object(_.jsx)(Ee.a,{}),Object(_.jsx)(Te.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},children:Object(_.jsxs)(Ie.a,{children:[Object(_.jsx)(Ue.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:t,sx:{mr:2,display:{sm:"none"}},children:Object(_.jsx)(Me.a,{})}),Object(_.jsx)(W.b,{to:"/dashboard",children:Object(_.jsx)(Le.a,{variant:"h6",noWrap:!0,component:"div",style:{color:"#ffffff"},children:"Todo List"})})]})})]})}var Fe=n(294);function We(e){var t=e.mobileOpen,n=e.handleDrawerToggle,a=e.drawer,c=e.props.window,s=void 0!==c?function(){return c().document.body}:void 0;return Object(_.jsxs)("div",{children:[Object(_.jsx)(Fe.a,{container:s,variant:"temporary",open:t,onClose:n,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},children:a}),Object(_.jsx)(Fe.a,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},open:!0,children:a})]})}var Be=n(282),Re=n(307),Je=n(308);function Ye(e){var t=Object(a.useState)(!1),n=Object(J.a)(t,2),c=n[0],s=n[1],r=function(){s(!c)},i=Object(_.jsxs)("div",{children:[Object(_.jsx)(Ie.a,{}),Object(_.jsx)(Re.a,{}),Object(_.jsxs)(Je.a,{children:[Object(_.jsx)(xe,{}),Object(_.jsx)(Oe,{})]}),Object(_.jsx)(Re.a,{}),Object(_.jsxs)(Je.a,{children:[Object(_.jsx)(fe,{}),Object(_.jsx)(Ae,{})]})]});return Object(_.jsxs)(Be.a,{sx:{display:"flex"},children:[Object(_.jsx)(ze,{handleDrawerToggle:r}),Object(_.jsx)(Be.a,{component:"nav",sx:{width:{sm:240},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:Object(_.jsx)(We,{mobileOpen:c,handleDrawerToggle:r,drawer:i,props:e})}),Object(_.jsxs)(Be.a,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(240,"px)")}},children:[Object(_.jsx)(Ie.a,{}),Object(_.jsx)("div",{children:e.children})]})]})}var Ge=["component"],_e=function(e){var t,n=e.component,c=Object(Y.a)(e,Ge),s=Object(T.c)(p),r=Object(T.c)(g),i=Object(T.c)(l),o=Object(a.useState)(""),d=Object(J.a)(o,2),j=d[0],u=d[1];return Object(a.useEffect)((function(){i[0]&&u(i[0].title)}),[i]),"/dashboard"===c.path?t=Object(_.jsx)(ae,{}):"/account"===c.path?t=Object(_.jsx)(oe,{}):("/create"===c.path||"/update/:todoId"===c.path)&&(t=Object(_.jsx)(le,{})),Object(_.jsx)(Ye,{children:Object(_.jsx)(B.b,Object(R.a)(Object(R.a)({},c),{},{render:function(e){return r||s&&""===j?t:s?Object(_.jsx)(n,Object(R.a)({},e)):Object(_.jsx)(B.a,{to:"/signin"})}}))})},He=["component"],Ve=function(e){var t=e.component,n=Object(Y.a)(e,He),a=Object(T.c)(p);return Object(_.jsx)(B.b,Object(R.a)(Object(R.a)({},n),{},{render:function(e){return a?Object(_.jsx)(B.a,{to:"/dashboard"}):Object(_.jsx)(t,Object(R.a)({},e))}}))},Ke=n(74),Xe=n(167),qe=n.n(Xe);function Qe(){return Object(_.jsx)("div",{style:{textAlign:"center",margin:"20px auto"},children:Object(_.jsx)(qe.a,{style:{fontSize:"50px",color:"#1976d2"}})})}function Ze(e){var t=e.children,n=e.title;return Object(_.jsxs)("div",{className:"Login",children:[Object(_.jsx)(Qe,{}),Object(_.jsx)("div",{className:"login-title",children:n}),Object(_.jsx)(V.a,{sx:{display:"flex",justifyContent:"center"},children:t})]})}var $e=n(285);function et(e){var t=e.name,n=e.setName;return Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{className:"title",children:"User Name"}),Object(_.jsx)("div",{className:"textfield-title",children:Object(_.jsx)($e.a,{autoFocus:!0,variant:"outlined",name:"name",style:{width:"100%"},value:t,onChange:function(e){return n(e.target.value)}})})]})}function tt(e){var t=e.email,n=e.setEmail;return Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{className:"body",children:"Email"}),Object(_.jsx)("div",{className:"textfield-title",children:Object(_.jsx)($e.a,{variant:"outlined",name:"email",style:{width:"100%"},value:t,onChange:function(e){return n(e.target.value)}})})]})}function nt(e){var t=e.passwordShown,n=e.setPasswordShown;return Object(_.jsx)("div",{onClick:function(){n(!t)},type:"button",className:"password-toggle-button",children:"Show Password"})}function at(e){var t=e.password,n=e.setPassword,c=e.confirmPassword,s=e.setConfirmPassword,r=Object(a.useState)(!1),i=Object(J.a)(r,2),o=i[0],d=i[1],l=Object(a.useState)(!1),j=Object(J.a)(l,2),u=j[0],b=j[1];return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"password-text-container",children:[Object(_.jsx)("div",{children:"Password"}),Object(_.jsx)(nt,{passwordShown:o,setPasswordShown:d})]}),Object(_.jsx)("div",{className:"textfield-title",children:Object(_.jsx)($e.a,{variant:"outlined",name:"password",type:o?"text":"password",style:{width:"100%"},value:t,onChange:function(e){return n(e.target.value)}})}),Object(_.jsxs)("div",{className:"password-text-container",children:[Object(_.jsx)("div",{children:"Confirm Password"}),Object(_.jsx)(nt,{passwordShown:u,setPasswordShown:b})]}),Object(_.jsx)("div",{className:"textfield-title",children:Object(_.jsx)($e.a,{variant:"outlined",name:"confirmPassword",type:u?"text":"password",style:{width:"100%"},value:c,onChange:function(e){return s(e.target.value)}})})]})}var ct=n(168),st=n.n(ct);function rt(e){var t=e.children,n=e.disabled;return Object(_.jsx)("div",{style:{margin:"0 auto",textAlign:"center"},children:Object(_.jsxs)(q.a,{type:"submit",variant:"contained",disabled:n,style:n?{padding:"10px 14px 10px 25px",borderRadius:"25px"}:{backgroundColor:"#1976d2",padding:"10px 14px 10px 25px",borderRadius:"25px"},children:[t,Object(_.jsx)(st.a,{className:"arrowIcon"})]})})}var it=n(109);function ot(){var e=Object(a.useState)(""),t=Object(J.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(J.a)(s,2),i=r[0],o=r[1],d=Object(a.useState)(""),l=Object(J.a)(d,2),j=l[0],u=l[1],b=Object(a.useState)(""),x=Object(J.a)(b,2),h=x[0],O=x[1],p=Object(a.useState)(null),m=Object(J.a)(p,2),v=m[0],f=m[1];var g=Object(it.a)(8),y=new Date,w=y.getFullYear()+"-"+(y.getMonth()+1)+"-"+y.getDate(),S=Object(F.b)(),N=Object(Ke.b)(),C=Object(B.g)();return Object(_.jsx)(Ze,{title:"Sign In",children:Object(_.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),j===h?Object(F.a)(S,i,j).then(function(){var e=Object(L.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user,console.log("user ".concat(a.uid," is created")),e.next=4,Object(F.f)(S.currentUser,{displayName:n,uid:a.uid}).catch((function(e){C.push("/error")}));case 4:return e.prev=4,e.next=7,Object(Ke.c)(Object(Ke.a)(N,a.uid,"userInfo"),{userUid:a.uid,name:n,email:a.email});case 7:return e.next=9,Object(Ke.c)(Object(Ke.a)(N,a.uid,"todos","active",g),{todoId:g,title:"Test",body:"This is where you can write contents.",createdAt:w});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),C.push("/error");case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){var t=e.message;f(t)})):f("Your password and confirmation password do not match.")},children:[Object(_.jsx)("div",{className:"register-error-message",children:v}),Object(_.jsx)(et,{name:n,setName:c}),Object(_.jsx)(tt,{email:i,setEmail:o}),Object(_.jsx)(at,{password:j,setPassword:u,confirmPassword:h,setConfirmPassword:O}),Object(_.jsx)("div",{className:"login-button",children:Object(_.jsx)(rt,{type:"submit",disabled:!(n.length>0&&i.length>0&&j.length>0),children:"Signup"})}),Object(_.jsx)(W.b,{to:"/signin",children:Object(_.jsx)("div",{className:"toggle-signin-signup",children:"Already have an account? Sign in"})})]})})}function dt(e){var t=e.email,n=e.setEmail;return Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{className:"title",children:"Email"}),Object(_.jsx)("div",{className:"textfield-title",children:Object(_.jsx)($e.a,{autoFocus:!0,variant:"outlined",name:"email",style:{width:"100%"},value:t,onChange:function(e){return n(e.target.value)}})})]})}function lt(e){var t=e.password,n=e.setPassword,c=Object(a.useState)(!1),s=Object(J.a)(c,2),r=s[0],i=s[1];return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"password-text-container",children:[Object(_.jsx)("div",{children:"Password"}),Object(_.jsx)(nt,{passwordShown:r,setPasswordShown:i})]}),Object(_.jsx)("div",{className:"textfield-title",children:Object(_.jsx)($e.a,{variant:"outlined",name:"password",type:r?"text":"password",style:{width:"100%"},value:t,onChange:function(e){return n(e.target.value)}})})]})}function jt(){var e=Object(a.useState)(""),t=Object(J.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(J.a)(s,2),i=r[0],o=r[1],d=Object(a.useState)(null),l=Object(J.a)(d,2),j=l[0],u=l[1];var b=Object(F.b)();function x(){return(x=Object(L.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),Object(F.d)(b,n,i).then((function(e){var t=e.user;console.log(t)})).catch((function(e){u(e.message)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(_.jsx)(Ze,{title:"Sign In",children:Object(_.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){return x.apply(this,arguments)},children:[Object(_.jsx)("div",{className:"register-error-message",children:j}),Object(_.jsx)(dt,{email:n,setEmail:c}),Object(_.jsx)(lt,{password:i,setPassword:o}),Object(_.jsx)("div",{className:"login-button",children:Object(_.jsx)(rt,{type:"submit",disabled:!(n.length>0&&i.length>0),children:"Signin"})}),Object(_.jsx)(W.b,{to:"/signup",children:Object(_.jsx)("div",{className:"toggle-signin-signup",children:"Don't have an account? Sign up"})})]})})}var ut=n(284);function bt(e){var t=e.updatedAt,n=Object(ut.a)("(max-width:599px)");return t?Object(_.jsxs)(Le.a,{className:"updated-dialog",component:n?"div":"span",sx:{paddingLeft:{sm:"15px"}},children:["Updated: ",t]}):null}function xt(e){var t=e.todoId,n=e.title,c=e.body,s=e.createdAt,r=e.updatedAt,i=Object(a.useState)(!1),o=Object(J.a)(i,2),d=o[0],l=o[1],j=function(){l(!1)},u=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(d){var e=u.current;null!==e&&e.focus()}}),[d]),Object(_.jsxs)("div",{children:[Object(_.jsx)(q.a,{onClick:function(){l(!0)},className:"preview-edit-delete-button",style:{position:"absolute",right:"75px"},children:Object(_.jsx)(Z.a,{})}),Object(_.jsxs)(ye.a,{open:d,onClose:j,scroll:"paper",fullWidth:!0,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(_.jsx)(Ce.a,{className:"title-dialog",children:n}),Object(_.jsx)(Se.a,{dividers:!0,children:Object(_.jsxs)(Ne.a,{className:"body-dialog",ref:u,tabIndex:-1,component:"div",children:[c,Object(_.jsxs)("div",{className:"created-dialog",children:["Created: ",s,Object(_.jsx)(bt,{updatedAt:r})]})]})}),Object(_.jsxs)(we.a,{children:[Object(_.jsx)(W.b,{to:"/update/".concat(t),children:Object(_.jsx)(q.a,{onClick:j,children:"Modify"})}),Object(_.jsx)(q.a,{onClick:j,children:"Close"})]})]})]})}function ht(e){var t=e.todoId;return Object(_.jsx)(W.b,{to:"/update/".concat(t),children:Object(_.jsx)(q.a,{className:"preview-edit-delete-button",style:{position:"absolute",right:"42px"},children:Object(_.jsx)(ee.a,{})})})}var Ot=null;function pt(e){var t=e.todoId,n=e.handleClose,a=Object(F.b)().currentUser.uid,c=Object(B.g)(),s=Object(T.b)();return Object(_.jsx)(q.a,{onClick:function(){return function(e){try{n(),fetch("".concat(Ot,"/delete/").concat(a,"/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200===e.message?(n(),s(C({value:!0,message:"Todo deleted!",severity:"success"}))):500===e.message&&(n(),c.push("/error"),s(C({value:!0,message:"Something went wrong: backend",severity:"error"})))}))}))}catch(t){c.push("/error"),s(C({value:!0,message:"Something went wrong: frontend",severity:"error"}))}}(t)},autoFocus:!0,className:"delete-button",children:"Delete"})}function mt(e){var t=e.todoId,n=e.title,c=Object(a.useState)(!1),s=Object(J.a)(c,2),r=s[0],i=s[1],o=function(){i(!1)};return Object(_.jsxs)("div",{children:[Object(_.jsx)(q.a,{onClick:function(){i(!0)},className:"preview-edit-delete-button",style:{position:"absolute",right:"10px"},children:Object(_.jsx)(ne.a,{})}),Object(_.jsxs)(ye.a,{open:r,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(_.jsx)(Ce.a,{id:"alert-dialog-title",children:"Confirm delete"}),Object(_.jsx)(Se.a,{children:Object(_.jsxs)(Ne.a,{id:"alert-dialog-description",children:['Are you sure you want to delete "',n,'"?']})}),Object(_.jsxs)(we.a,{children:[Object(_.jsx)(q.a,{onClick:o,children:"Cancel"}),Object(_.jsx)(pt,{todoId:t,setOpen:i,handleClose:o})]})]})]})}function vt(e){var t=e.body,n=e.createdAt,a=e.updatedAt;return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"todo-createdAt",children:["Create: ",n,a&&Object(_.jsxs)("span",{className:"todo-updatedAt",children:["Update: ",a]})]}),Object(_.jsx)("div",{className:"todo-body",children:t})]})}function ft(){var e=Object(T.c)(l);return Object(_.jsx)(K,{children:e.map((function(e,t){return Object(_.jsxs)(H,{children:[Object(_.jsxs)(ce.a,{container:!0,children:[Object(_.jsx)(ce.a,{item:!0,xs:7,children:Object(_.jsx)("div",{className:"todo-title",children:e.title})}),Object(_.jsxs)(ce.a,{item:!0,children:[Object(_.jsx)(xt,{todoId:e.todoId,title:e.title,body:e.body,createdAt:e.createdAt,updatedAt:e.updatedAt}),Object(_.jsx)(ht,{todoId:e.todoId}),Object(_.jsx)(mt,{todoId:e.todoId,title:e.title})]})]}),Object(_.jsx)(vt,{body:e.body,createdAt:e.createdAt,updatedAt:e.updatedAt})]},t)}))})}function gt(){var e=Object(F.b)().currentUser,t=null,n=null;return null!==e&&(t=e.displayName,n=e.email),Object(_.jsx)("div",{children:Object(_.jsxs)(se,{children:[Object(_.jsx)(ce.a,{item:!0,sx:{margin:"10px"},children:Object(_.jsx)(be.a,{sx:{width:200,height:200},children:Object(_.jsx)(ue.a,{style:{fontSize:"140px"}})})}),Object(_.jsx)(ce.a,{item:!0,sx:{margin:"10px"},children:Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{children:["Name: ",t]}),Object(_.jsxs)("div",{children:["Email: ",n]}),Object(_.jsx)("div",{children:"Edit"})]})})]})})}function yt(){var e=Object(F.b)(),t=Object(B.g)(),n=Object(T.b)();return Object(_.jsx)(q.a,{onClick:function(){var a=e.currentUser.uid;try{fetch("".concat(Ot,"/deleteAccount/").concat(a),{method:"DELETE",headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200===e.message?n(C({value:!0,message:"Account deleted!",severity:"success"})):500===e.message&&(t.push("/error"),n(C({value:!0,message:"Something went wrong with deleting account: backend",severity:"error"})))}))}))}catch(c){t.push("/error"),n(C({value:!0,message:"Something went wrong with deleting account: frontend",severity:"error"}))}try{fetch("".concat(Ot,"/deleteCollection/").concat(a),{method:"DELETE",headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200!==e.message&&500===e.message&&(t.push("/error"),n(C({value:!0,message:"Something went wrong with deleting your todo data: backend",severity:"error"})))}))}))}catch(c){t.push("/error"),n(C({value:!0,message:"Something went wrong with deleting your todo data: frontend",severity:"error"}))}n(d([{title:"",body:""}])),n(b([{firstName:"",lastName:""}])),Object(F.e)(e).then((function(){console.log("Sign-out successful.")})).catch((function(e){console.log("Sign-out failed: ".concat(e))}))},autoFocus:!0,className:"signout-button",children:"Delete account"})}Ot="https://fullstack-todo-backend-misako.herokuapp.com";var wt=n(169),St=n.n(wt);function Nt(){var e=Object(a.useState)(!1),t=Object(J.a)(e,2),n=t[0],c=t[1],s=function(){c(!1)};return Object(_.jsxs)("div",{children:[Object(_.jsxs)(ie,{handleClickOpen:function(){c(!0)},children:[Object(_.jsx)(pe.a,{children:Object(_.jsx)(St.a,{})}),Object(_.jsx)(he.a,{primary:"Delete Account"})]}),Object(_.jsxs)(ye.a,{open:n,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(_.jsx)(Ce.a,{id:"alert-dialog-title",children:"Confirm delete account"}),Object(_.jsx)(Se.a,{children:Object(_.jsxs)(Ne.a,{id:"alert-dialog-description",children:["Are you sure you delete your account? ",Object(_.jsx)("br",{}),"Your todos will be deleted once you delete your account."]})}),Object(_.jsxs)(we.a,{children:[Object(_.jsx)(q.a,{onClick:s,children:"Cancel"}),Object(_.jsx)(yt,{})]})]})]})}function Ct(){return Object(_.jsxs)("div",{children:[Object(_.jsx)(gt,{}),Object(_.jsx)(Nt,{})]})}function kt(e){var t=e.titleErrorMessage,n=e.titleLetters,a=e.setTitleLetters;return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"title",children:["Title:",Object(_.jsx)("span",{className:"error-message",children:t})]}),Object(_.jsx)("div",{className:"textfield-title",children:Object(_.jsx)($e.a,{placeholder:"Type here ...",variant:"outlined",multiline:!0,rows:1,name:"letter",style:{width:"100%"},value:n||"",onChange:function(e){return a(e.target.value)}})})]})}function Dt(e){var t=e.bodyErrorMessage,n=e.bodyLetters,a=e.setBodyLetters;return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"body",children:["Body:",Object(_.jsx)("span",{className:"error-message",children:t})]}),Object(_.jsx)("div",{className:"textfield-body",children:Object(_.jsx)($e.a,{placeholder:"Type here ...",variant:"outlined",multiline:!0,rows:18,name:"letter",style:{width:"100%"},value:n||"",onChange:function(e){return a(e.target.value)}})})]})}function At(){var e=Object(a.useState)(""),t=Object(J.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(J.a)(s,2),i=r[0],o=r[1],d=Object(a.useState)(""),l=Object(J.a)(d,2),j=l[0],u=l[1],b=Object(a.useState)(""),x=Object(J.a)(b,2),h=x[0],O=x[1],p=Object(F.b)().currentUser.uid,m=Object(it.a)(8),v=new Date,f=v.getFullYear()+"-"+(v.getMonth()+1)+"-"+v.getDate(),g={userUid:p,todoId:m,title:n,body:i,createdAt:f},y="Please type something",w=Object(B.g)(),S=Object(T.b)();return Object(_.jsx)("div",{children:Object(_.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){if(e.preventDefault(),""===n&&""===i)u(y),O(y);else if(""===n)u(y);else if(""===i)O(y);else try{fetch("".concat(Ot,"/push_data_to_db"),{method:"POST",body:JSON.stringify(g),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200===e.message?(w.push("/dashboard"),S(C({value:!0,message:"New todo created!",severity:"success"}))):500===e.message&&(w.push("/error"),S(C({value:!0,message:"Something went wrong: backend",severity:"error"})))}))}))}catch(t){w.push("/error"),S(C({value:!0,message:"Something went wrong: frontend",severity:"error"}))}},children:[Object(_.jsx)(kt,{titleErrorMessage:j,titleLetters:n,setTitleLetters:c}),Object(_.jsx)(Dt,{bodyErrorMessage:h,bodyLetters:i,setBodyLetters:o}),Object(_.jsx)(rt,{children:"Add"})]})})}function Tt(e){var t=e.titleErrorMessage,n=e.titleLettersUpdate,a=e.setTitleLettersUpdate;return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"title",children:["Title:",Object(_.jsx)("span",{className:"error-message",children:t})]}),Object(_.jsx)("div",{className:"textfield-title",children:Object(_.jsx)($e.a,{variant:"outlined",multiline:!0,rows:1,name:"title",style:{width:"100%"},value:n,onChange:function(e){return a(e.target.value)}})})]})}function It(e){var t=e.bodyErrorMessage,n=e.bodyLettersUpdate,a=e.setBodyLettersUpdate;return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"body",children:["Body:",Object(_.jsx)("span",{className:"error-message",children:t})]}),Object(_.jsx)("div",{className:"textfield-body",children:Object(_.jsx)($e.a,{variant:"outlined",multiline:!0,rows:18,name:"body",style:{width:"100%"},value:n,onChange:function(e){return a(e.target.value)}})})]})}function Et(){var e=Object(B.h)().todoId,t=Object(T.c)(l),n=Object(a.useState)(""),c=Object(J.a)(n,2),s=c[0],r=c[1],i=Object(a.useState)(""),o=Object(J.a)(i,2),d=o[0],j=o[1];Object(a.useEffect)((function(){var n=function(){var n=Object(L.a)(E.a.mark((function n(){var a;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.find((function(t){return t.todoId===e}));case 2:(a=n.sent)&&(r(a.title),j(a.body));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[t,e]);var u=Object(a.useState)(""),b=Object(J.a)(u,2),x=b[0],h=b[1],O=Object(a.useState)(""),p=Object(J.a)(O,2),m=p[0],v=p[1],f=Object(F.b)().currentUser.uid,g=new Date,y=g.getFullYear()+"-"+(g.getMonth()+1)+"-"+g.getDate(),w={userUid:f,title:s,body:d,updatedAt:y},S="Please type something",N=Object(B.g)(),k=Object(T.b)();return Object(_.jsx)("div",{children:Object(_.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(t){if(t.preventDefault(),""===s&&""===d)h(S),v(S);else if(""===s)h(S);else if(""===d)v(S);else try{fetch("".concat(Ot,"/update/").concat(e),{method:"PUT",body:JSON.stringify(w),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200===e.message?(N.push("/dashboard"),k(C({value:!0,message:"Todo updated!",severity:"success"}))):500===e.message&&(N.push("/error"),k(C({value:!0,message:"Something went wrong: backend",severity:"error"})))}))}))}catch(n){N.push("/error"),k(C({value:!0,message:"Something went wrong: frontend",severity:"error"}))}},children:[Object(_.jsx)(Tt,{titleErrorMessage:x,titleLettersUpdate:s,setTitleLettersUpdate:r}),Object(_.jsx)(It,{bodyErrorMessage:m,bodyLettersUpdate:d,setBodyLettersUpdate:j}),Object(_.jsx)(rt,{children:"Update"})]})})}var Lt=function(){return Object(_.jsxs)("div",{style:{textAlign:"center",margin:"100px auto 100px auto",color:"#383838"},children:[Object(_.jsx)("h1",{children:"404 - Not Found :("}),Object(_.jsx)(W.b,{to:"/signin",children:"Go Home"})]})},Ut=function(){return Object(_.jsxs)("div",{style:{textAlign:"center",margin:"100px auto 100px auto",color:"#383838"},children:[Object(_.jsx)("h1",{children:"Sorry, something went wrong :("}),Object(_.jsx)(W.b,{to:"/signin",children:"Go Home"})]})},Pt=n(289),Mt=n(287),zt=c.a.forwardRef((function(e,t){return Object(_.jsx)(Mt.a,Object(R.a)({elevation:6,ref:t,variant:"filled"},e))}));function Ft(){var e=Object(T.c)(k),t=Object(T.b)(),n=function(n,a){"clickaway"!==a&&t(C({value:!1,message:"",severity:e.severity}))};return Object(_.jsx)("div",{children:Object(_.jsx)(Pt.a,{open:e.value,autoHideDuration:6e3,onClose:n,children:Object(_.jsx)(zt,{onClose:n,severity:"".concat(e.severity),sx:{width:"100%"},children:e.message})})})}function Wt(){Object(M.a)(z);var e=Object(T.b)(),t=Object(F.b)();return Object(a.useEffect)((function(){var n=Object(F.c)(t,function(){var n=Object(L.a)(E.a.mark((function n(a){var c,s,r;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=null,!a){n.next=22;break}return e(O(!0)),s=a.uid,r={uid:s},console.log("Auth OK, user logged in ".concat(s)),P()(Ot).on("newChangesInTodos",(function(t){e(d(t))})),P()(Ot).on("newChangesInProfile",(function(t){e(b(t)),e(f(!1)),console.log("Loading OK")})),console.log("Socket opened"),n.prev=11,n.next=14,fetch("".concat(Ot,"/catch-user-uid"),{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){console.log(e)}))}));case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(11),console.log(n.t0);case 19:a.getIdTokenResult().then((function(e){var n=1e3*e.claims.auth_time,a=36e5-(Date.now()-n);c=setTimeout((function(){return Object(F.e)(t).then((function(){console.log("Session timeout. Sign-out successful.")})).catch((function(e){console.log("Session timeout. Sign-out failed: ".concat(e))}))}),a)})),n.next=26;break;case 22:e(O(!1)),e(f(!1)),clearTimeout(c),c=null;case 26:case"end":return n.stop()}}),n,null,[[11,16]])})));return function(e){return n.apply(this,arguments)}}());return function(){return n((function(){}))}}),[t,e]),Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)(W.a,{children:Object(_.jsxs)(B.d,{children:[Object(_.jsx)(Ve,{exact:!0,path:"/signup",component:ot}),Object(_.jsx)(Ve,{exact:!0,path:"/signin",component:jt}),Object(_.jsx)(_e,{exact:!0,path:"/dashboard",component:ft}),Object(_.jsx)(_e,{exact:!0,path:"/account",component:Ct}),Object(_.jsx)(_e,{exact:!0,path:"/create",component:At}),Object(_.jsx)(_e,{exact:!0,path:"/update/:todoId",component:Et}),Object(_.jsx)(B.b,{exact:!0,path:"/error",component:Ut}),Object(_.jsx)(B.b,{component:Lt})]})}),Object(_.jsx)(Ft,{})]})}r.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(T.a,{store:A,children:Object(_.jsx)(Wt,{})})}),document.getElementById("root"))}},[[230,1,2]]]);
//# sourceMappingURL=main.2246a780.chunk.js.map