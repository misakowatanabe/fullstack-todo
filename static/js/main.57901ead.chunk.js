(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{197:function(e,t,n){},202:function(e,t,n){},235:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(63),s=n.n(r),i=(n(197),n(45)),o=Object(i.b)({name:"todoData",initialState:{value:[{title:null,body:null}]},reducers:{updateTodoData:function(e,t){e.value=t.payload}}}),d=o.actions.updateTodoData,l=function(e){return e.todoData.value},j=o.reducer,u=Object(i.b)({name:"profileData",initialState:{value:[{name:null,email:null,userUid:null}]},reducers:{updateProfileData:function(e,t){e.value=t.payload[0]}}}),b=u.actions.updateProfileData,x=function(e){return e.profileData.value},h=u.reducer,p=Object(i.b)({name:"profileImageData",initialState:{value:null},reducers:{updateProfileImageData:function(e,t){e.value=t.payload}}}),O=p.actions.updateProfileImageData,f=function(e){return e.profileImageData.value},m=p.reducer,g=Object(i.b)({name:"userAuthData",initialState:{value:!1},reducers:{updateUserAuthData:function(e,t){e.value=t.payload}}}),v=g.actions.updateUserAuthData,y=function(e){return e.userAuthData.value},w=g.reducer,S=Object(i.b)({name:"isLoadingData",initialState:{value:!0},reducers:{updateIsLoadingData:function(e,t){e.value=t.payload}}}),k=S.actions.updateIsLoadingData,C=function(e){return e.isLoadingData.value},N=S.reducer,E=Object(i.b)({name:"snackbar",initialState:{value:!1,message:"",severity:"success"},reducers:{updateSnackbar:function(e,t){e.value=t.payload.value,e.message=t.payload.message,e.severity=t.payload.severity}}}),D=E.actions.updateSnackbar,I=function(e){return e.snackbar},U=E.reducer,A=Object(i.a)({reducer:{todoData:j,profileData:h,profileImageData:m,userAuthData:w,isLoadingData:N,snackbar:U}}),L=n(22),T=n(1),P=n.n(T),M=n(4),R=n(47),_=(n(202),n(132)),F=n.n(_),z=n(107),W={apiKey:"AIzaSyDjriWqAwlwma04rJXXfZW8_3RaRQHzs8w",authDomain:"succulent-bfbf4.firebaseapp.com",projectId:"succulent-bfbf4",storageBucket:"succulent-bfbf4.appspot.com",messagingSenderId:"372415741597",appId:"1:372415741597:web:dfa6f76a475b3ca6855e74",measurementId:"G-YX5RDN8G4W"};Object(z.a)(W);var B=n(26),J=n(27),Y=n(30),q=n(66),G=n(116),V=n(304),H=n(0);function K(e){var t=e.children;return Object(H.jsx)(V.a,{sx:{margin:{xs:"10px 0px",sm:"10px"},padding:"10px 20px",height:"200px",width:{xs:"100%",sm:"350px"},minWidth:{sm:"292px"},position:"relative"},children:t})}var X=n(281);function Q(e){var t=e.children;return Object(H.jsx)(X.a,{sx:{display:"flex",flexWrap:"wrap",justifyContent:{xs:"center",sm:"flex-start"}},children:t})}var Z=n(297),$=n(305),ee=n(109),te=n.n(ee),ne=n(110),ae=n.n(ne),ce=n(111),re=n.n(ce);function se(){return Object(H.jsx)(Q,{children:[1,2].map((function(e){return Object(H.jsxs)(K,{children:[Object(H.jsx)($.a,{className:"preview-edit-delete-button",style:{position:"absolute",right:"75px"},children:Object(H.jsx)(te.a,{})}),Object(H.jsx)($.a,{className:"preview-edit-delete-button",style:{position:"absolute",right:"42px"},children:Object(H.jsx)(ae.a,{})}),Object(H.jsx)($.a,{className:"preview-edit-delete-button",style:{position:"absolute",right:"10px"},children:Object(H.jsx)(re.a,{})}),Object(H.jsx)(Z.a,{height:30,width:"60%"}),Object(H.jsx)(Z.a,{height:20,width:"100%",style:{marginTop:17}}),Object(H.jsx)(Z.a,{height:20,width:"100%"}),Object(H.jsx)(Z.a,{height:20,width:"50%"}),Object(H.jsx)(Z.a,{height:20,width:"40%",style:{marginTop:45}})]},e)}))})}var ie=n(296);function oe(e){var t=e.children;return Object(H.jsx)("div",{children:Object(H.jsx)(V.a,{sx:{padding:{xs:"20px 20px",sm:"30px 30px"},height:"auto",position:"relative"},children:Object(H.jsx)(X.a,{children:Object(H.jsx)(ie.a,{container:!0,sx:{alignItems:"center",justifyContent:"space-around"},children:t})})})})}var de=n(295);function le(e){var t=e.children,n=e.handleClickOpen;return Object(H.jsx)(V.a,{sx:{marginTop:"20px",padding:{xs:"20px 20px",sm:"40px 40px"},height:"auto",position:"relative"},children:Object(H.jsx)(de.a,{button:!0,onClick:n,style:{padding:"10px 15px"},children:t})})}function je(){return Object(H.jsxs)("div",{children:[Object(H.jsxs)(oe,{children:[Object(H.jsx)(ie.a,{item:!0,sx:{padding:"10px"},children:Object(H.jsx)(Z.a,{variant:"circular",width:200,height:200})}),Object(H.jsx)(ie.a,{item:!0,sx:{padding:"10px"},children:Object(H.jsx)("div",{children:Object(H.jsxs)("div",{style:{minWidth:"200px"},children:[Object(H.jsx)(Z.a,{height:24,width:"100%"}),Object(H.jsx)(Z.a,{height:24,width:"100%"}),Object(H.jsx)(Z.a,{height:24,width:"80%"})]})})})]}),Object(H.jsx)(le,{children:Object(H.jsx)("div",{style:{minWidth:"200px",padding:"4px 0px"},children:Object(H.jsx)(Z.a,{height:25,width:"100%"})})})]})}var ue=n(306);function be(){return Object(H.jsx)("div",{style:{width:"100%",textAlign:"center",margin:"100px auto"},children:Object(H.jsx)(ue.a,{})})}var xe=["component"],he=function(e){var t=e.component,n=Object(G.a)(e,xe),a=Object(L.c)(y),c=Object(L.c)(C),r=function(){return"/dashboard"===n.path?Object(H.jsx)(se,{}):"/account"===n.path?Object(H.jsx)(je,{}):"/create"===n.path||"/update/:todoId"===n.path?Object(H.jsx)(be,{}):void 0};return Object(H.jsx)(Y.b,Object(q.a)(Object(q.a)({},n),{},{render:function(e){return c?Object(H.jsx)(r,{}):a?Object(H.jsx)(t,Object(q.a)({},e)):Object(H.jsx)(Y.a,{to:"/signin"})}}))},pe=["component"],Oe=function(e){var t=e.component,n=Object(G.a)(e,pe),a=Object(L.c)(y);return Object(H.jsx)(Y.b,Object(q.a)(Object(q.a)({},n),{},{render:function(e){return a?Object(H.jsx)(Y.a,{to:"/dashboard"}):Object(H.jsx)(t,Object(q.a)({},e))}}))},fe=n(11),me=n(76),ge=n(168),ve=n.n(ge);function ye(){return Object(H.jsx)("div",{style:{textAlign:"center",margin:"20px auto"},children:Object(H.jsx)(ve.a,{style:{fontSize:"50px",color:"#1976d2"}})})}function we(e){var t=e.children,n=e.title;return Object(H.jsxs)("div",{className:"Login",children:[Object(H.jsx)(ye,{}),Object(H.jsx)("div",{className:"login-title",children:n}),Object(H.jsx)(X.a,{sx:{display:"flex",justifyContent:"center"},children:t})]})}var Se=n(290);function ke(e){var t=e.name,n=e.setName;return Object(H.jsxs)("div",{children:[Object(H.jsx)("div",{className:"title",children:"User Name"}),Object(H.jsx)("div",{className:"textfield-title",children:Object(H.jsx)(Se.a,{autoFocus:!0,variant:"outlined",name:"name",style:{width:"100%"},value:t,onChange:function(e){return n(e.target.value)}})})]})}function Ce(e){var t=e.email,n=e.setEmail;return Object(H.jsxs)("div",{children:[Object(H.jsx)("div",{className:"body",children:"Email"}),Object(H.jsx)("div",{className:"textfield-title",children:Object(H.jsx)(Se.a,{variant:"outlined",name:"email",style:{width:"100%"},value:t,onChange:function(e){return n(e.target.value)}})})]})}function Ne(e){var t=e.passwordShown,n=e.setPasswordShown;return Object(H.jsx)("div",{onClick:function(){n(!t)},type:"button",className:"password-toggle-button",children:"Show Password"})}function Ee(e){var t=e.password,n=e.setPassword,c=e.confirmPassword,r=e.setConfirmPassword,s=Object(a.useState)(!1),i=Object(fe.a)(s,2),o=i[0],d=i[1],l=Object(a.useState)(!1),j=Object(fe.a)(l,2),u=j[0],b=j[1];return Object(H.jsxs)("div",{children:[Object(H.jsxs)("div",{className:"password-text-container",children:[Object(H.jsx)("div",{children:"Password"}),Object(H.jsx)(Ne,{passwordShown:o,setPasswordShown:d})]}),Object(H.jsx)("div",{className:"textfield-title",children:Object(H.jsx)(Se.a,{variant:"outlined",name:"password",type:o?"text":"password",style:{width:"100%"},value:t,onChange:function(e){return n(e.target.value)}})}),Object(H.jsxs)("div",{className:"password-text-container",children:[Object(H.jsx)("div",{children:"Confirm Password"}),Object(H.jsx)(Ne,{passwordShown:u,setPasswordShown:b})]}),Object(H.jsx)("div",{className:"textfield-title",children:Object(H.jsx)(Se.a,{variant:"outlined",name:"confirmPassword",type:u?"text":"password",style:{width:"100%"},value:c,onChange:function(e){return r(e.target.value)}})})]})}var De=n(113),Ie=n.n(De);function Ue(e){var t=e.children,n=e.disabled;return Object(H.jsx)("div",{style:{margin:"0 auto",textAlign:"center"},children:Object(H.jsxs)($.a,{type:"submit",variant:"contained",disabled:n,style:n?{padding:"10px 14px 10px 25px",borderRadius:"25px"}:{backgroundColor:"#1976d2",padding:"10px 14px 10px 25px",borderRadius:"25px"},children:[t,Object(H.jsx)(Ie.a,{})]})})}var Ae=n(117);function Le(){var e=Object(a.useState)(""),t=Object(fe.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(fe.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(""),l=Object(fe.a)(d,2),j=l[0],u=l[1],b=Object(a.useState)(""),x=Object(fe.a)(b,2),h=x[0],p=x[1],O=Object(a.useState)(null),f=Object(fe.a)(O,2),m=f[0],g=f[1];var v=Object(Ae.a)(8),y=new Date,w=y.getFullYear()+"-"+(y.getMonth()+1)+"-"+y.getDate(),S=Object(B.b)(),k=Object(me.b)(),C=Object(Y.g)();return Object(H.jsx)(we,{title:"Sign Up",children:Object(H.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),j===h?Object(B.a)(S,i,j).then(function(){var e=Object(M.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user,console.log("user ".concat(a.uid," is created")),e.next=4,Object(B.g)(S.currentUser,{displayName:n,uid:a.uid}).catch((function(e){C.push("/error")}));case 4:return e.prev=4,e.next=7,Object(me.c)(Object(me.a)(k,a.uid,"userInfo"),{userUid:a.uid,name:n,email:a.email});case 7:return e.next=9,Object(me.c)(Object(me.a)(k,a.uid,"todos","active",v),{todoId:v,title:"Test",body:"This is where you can write contents.",createdAt:w});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),C.push("/error");case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){var t=e.message;g("Firebase: Error (auth/email-already-in-use)."===t?"This email adress is already in use.":"Firebase: Password should be at least 6 characters (auth/weak-password)."===t?"Password should be at least 6 characters.":"Firebase: Error (auth/network-request-failed)."===t?"Something went wrong with network. Please check your internet connection.":"".concat(t," Please contact _______."))})):g("Your password and confirmation password do not match.")},children:[Object(H.jsx)("div",{className:"register-error-message",children:m}),Object(H.jsx)(ke,{name:n,setName:c}),Object(H.jsx)(Ce,{email:i,setEmail:o}),Object(H.jsx)(Ee,{password:j,setPassword:u,confirmPassword:h,setConfirmPassword:p}),Object(H.jsx)("div",{className:"login-button",children:Object(H.jsx)(Ue,{type:"submit",disabled:!(n.length>0&&i.length>0&&j.length>0),children:"Signup"})}),Object(H.jsx)(J.b,{to:"/signin",children:Object(H.jsx)("div",{className:"toggle-signin-signup",children:"Already have an account? Sign in"})})]})})}function Te(e){var t=e.email,n=e.setEmail;return Object(H.jsxs)("div",{children:[Object(H.jsx)("div",{className:"title",children:"Email"}),Object(H.jsx)("div",{className:"textfield-title",children:Object(H.jsx)(Se.a,{autoFocus:!0,variant:"outlined",name:"email",style:{width:"100%"},value:t,onChange:function(e){return n(e.target.value)}})})]})}function Pe(e){var t=e.password,n=e.setPassword,c=Object(a.useState)(!1),r=Object(fe.a)(c,2),s=r[0],i=r[1];return Object(H.jsxs)("div",{children:[Object(H.jsxs)("div",{className:"password-text-container",children:[Object(H.jsx)("div",{children:"Password"}),Object(H.jsx)(Ne,{passwordShown:s,setPasswordShown:i})]}),Object(H.jsx)("div",{className:"textfield-title",children:Object(H.jsx)(Se.a,{variant:"outlined",name:"password",type:s?"text":"password",style:{width:"100%"},value:t,onChange:function(e){return n(e.target.value)}})})]})}function Me(){var e=Object(a.useState)(""),t=Object(fe.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(fe.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(null),l=Object(fe.a)(d,2),j=l[0],u=l[1];var b=Object(B.b)();function x(){return(x=Object(M.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),Object(B.d)(b,n,i).then((function(e){var t=e.user;console.log(t)})).catch((function(e){var t=e.message;u("Firebase: Error (auth/user-not-found)."===t?"User not found. Please check your email adress.":"Firebase: Error (auth/wrong-password)."===t?"Password seems wrong, please check it again.":"Firebase: Error (auth/network-request-failed)."===t?"Something went wrong with network. Please check your internet connection.":"".concat(t," Please contact _______."))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(H.jsx)(we,{title:"Sign In",children:Object(H.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){return x.apply(this,arguments)},children:[Object(H.jsx)("div",{className:"register-error-message",children:j}),Object(H.jsx)(Te,{email:n,setEmail:c}),Object(H.jsx)(Pe,{password:i,setPassword:o}),Object(H.jsx)("div",{className:"login-button",children:Object(H.jsx)(Ue,{type:"submit",disabled:!(n.length>0&&i.length>0),children:"Signin"})}),Object(H.jsx)(J.b,{to:"/signup",children:Object(H.jsx)("div",{className:"toggle-signin-signup",children:"Don't have an account? Sign up"})})]})})}var Re=n(307),_e=n(287);function Fe(e){var t=e.updatedAt,n=Object(_e.a)("(max-width:599px)");return t?Object(H.jsxs)(Re.a,{className:"updated-dialog",component:n?"div":"span",sx:{paddingLeft:{sm:"15px"}},children:["Updated: ",t]}):null}var ze=n(308),We=n(312),Be=n(310),Je=n(311),Ye=n(309);function qe(e){var t=e.todoId,n=e.title,c=e.body,r=e.createdAt,s=e.updatedAt,i=Object(a.useState)(!1),o=Object(fe.a)(i,2),d=o[0],l=o[1],j=function(){l(!1)},u=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(d){var e=u.current;null!==e&&e.focus()}}),[d]),Object(H.jsxs)("div",{children:[Object(H.jsx)($.a,{onClick:function(){l(!0)},className:"preview-edit-delete-button",style:{position:"absolute",right:"75px"},children:Object(H.jsx)(te.a,{})}),Object(H.jsxs)(ze.a,{open:d,onClose:j,scroll:"paper",fullWidth:!0,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(H.jsx)(Ye.a,{className:"title-dialog",children:n}),Object(H.jsx)(Be.a,{dividers:!0,children:Object(H.jsxs)(Je.a,{className:"body-dialog",ref:u,tabIndex:-1,component:"div",children:[c,Object(H.jsxs)("div",{className:"created-dialog",children:["Created: ",r,Object(H.jsx)(Fe,{updatedAt:s})]})]})}),Object(H.jsxs)(We.a,{children:[Object(H.jsx)(J.b,{to:"/update/".concat(t),children:Object(H.jsx)($.a,{onClick:j,children:"Modify"})}),Object(H.jsx)($.a,{onClick:j,children:"Close"})]})]})]})}function Ge(e){var t=e.todoId;return Object(H.jsx)(J.b,{to:"/update/".concat(t),children:Object(H.jsx)($.a,{className:"preview-edit-delete-button",style:{position:"absolute",right:"42px"},children:Object(H.jsx)(ae.a,{})})})}var Ve="https://fullstack-todo-backend-misako.herokuapp.com";function He(e){var t=e.todoId,n=e.handleClose,a=Object(B.b)().currentUser.uid,c=Object(Y.g)(),r=Object(L.b)();return Object(H.jsx)($.a,{onClick:function(){return function(e){try{n(),fetch("".concat(Ve,"/delete/").concat(a,"/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200===e.message?(n(),r(D({value:!0,message:"Todo deleted!",severity:"success"}))):500===e.message&&(n(),c.push("/error"),r(D({value:!0,message:"Something went wrong: backend",severity:"error"})))}))}))}catch(t){c.push("/error"),r(D({value:!0,message:"Something went wrong: frontend",severity:"error"}))}}(t)},autoFocus:!0,className:"delete-button",children:"Delete"})}function Ke(e){var t=e.todoId,n=e.title,c=Object(a.useState)(!1),r=Object(fe.a)(c,2),s=r[0],i=r[1],o=function(){i(!1)};return Object(H.jsxs)("div",{children:[Object(H.jsx)($.a,{onClick:function(){i(!0)},className:"preview-edit-delete-button",style:{position:"absolute",right:"10px"},children:Object(H.jsx)(re.a,{})}),Object(H.jsxs)(ze.a,{open:s,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(H.jsx)(Ye.a,{id:"alert-dialog-title",children:"Confirm delete"}),Object(H.jsx)(Be.a,{children:Object(H.jsxs)(Je.a,{id:"alert-dialog-description",children:['Are you sure you want to delete "',n,'"?']})}),Object(H.jsxs)(We.a,{children:[Object(H.jsx)($.a,{onClick:o,children:"Cancel"}),Object(H.jsx)(He,{todoId:t,setOpen:i,handleClose:o})]})]})]})}function Xe(e){var t=e.body,n=e.createdAt,a=e.updatedAt;return Object(H.jsxs)("div",{children:[Object(H.jsxs)("div",{className:"todo-createdAt",children:["Create: ",n,a&&Object(H.jsxs)("span",{className:"todo-updatedAt",children:["Update: ",a]})]}),Object(H.jsx)("div",{className:"todo-body",children:t})]})}function Qe(){var e=Object(L.c)(l);return Object(H.jsx)(Q,{children:e.map((function(e,t){return Object(H.jsxs)(K,{children:[Object(H.jsxs)(ie.a,{container:!0,children:[Object(H.jsx)(ie.a,{item:!0,xs:7,children:Object(H.jsx)("div",{className:"todo-title",children:e.title})}),Object(H.jsxs)(ie.a,{item:!0,children:[Object(H.jsx)(qe,{todoId:e.todoId,title:e.title,body:e.body,createdAt:e.createdAt,updatedAt:e.updatedAt}),Object(H.jsx)(Ge,{todoId:e.todoId}),Object(H.jsx)(Ke,{todoId:e.todoId,title:e.title})]})]}),Object(H.jsx)(Xe,{body:e.body,createdAt:e.createdAt,updatedAt:e.updatedAt})]},t)}))})}var Ze=n(299),$e=n(73),et=n.n($e);function tt(){var e=Object(L.c)(f);return""===e?Object(H.jsx)(Ze.a,{alt:"Avatar",sx:{width:200,height:200},children:Object(H.jsx)(et.a,{style:{fontSize:"140px"}})}):Object(H.jsx)("img",{src:e,alt:"profile",width:"200",height:"200",style:{borderRadius:"100px"}})}var nt=n(169),at=n.n(nt),ct=n(10),rt=n(171),st=n.n(rt),it=n(170),ot=n.n(it),dt=Object(ct.a)("input")({display:"none"});function lt(){var e=Object(a.useState)(!1),t=Object(fe.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),s=Object(fe.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(null),l=Object(fe.a)(d,2),j=l[0],u=l[1],b=Object(B.b)().currentUser.uid,x=Object(R.c)(),h=Object(R.d)(x,"profileImages/".concat(b)),p=Object(L.b)(),m=Object(L.c)(f),g=function(){c(!1),o(null),u(null)},v=Object(a.useState)(null),y=Object(fe.a)(v,2),w=y[0],S=y[1];Object(a.useEffect)((function(){S(""===j||null===j?Object(H.jsx)(Ze.a,{alt:"Avatar",sx:{width:200,height:200},children:Object(H.jsx)(et.a,{style:{fontSize:"140px"}})}):Object(H.jsx)("img",{src:j,alt:"profile",width:"200",height:"200",style:{borderRadius:"100px"}}))}),[j]);var k=Object(a.useRef)(null);Object(a.useEffect)((function(){if(n){var e=k.current;null!==e&&e.focus()}}),[n]);var C=Object(Y.g)();return Object(H.jsxs)("div",{children:[Object(H.jsx)("div",{children:Object(H.jsx)($.a,{onClick:function(){c(!0),u(m)},sx:{backgroundColor:"#e5e5e5","&:hover":{backgroundColor:"#d7d7d7"},marginLeft:"150px",padding:"10px",color:"#838383",minWidth:0,borderRadius:"50%",border:"4px solid #ffffff",transition:"250ms",position:"absolute",zIndex:1},children:Object(H.jsx)(at.a,{})})}),Object(H.jsxs)(ze.a,{open:n,onClose:g,scroll:"paper",fullWidth:!0,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(H.jsxs)(Ye.a,{className:"title-dialog",children:["Edit profile image",Object(H.jsx)($.a,{onClick:g,sx:{float:"right",color:"#5b5b5b",padding:"6px",minWidth:"0px",borderRadius:"30px","&:hover":{backgroundColor:"#f3f6f4"}},children:Object(H.jsx)(ot.a,{})})]}),Object(H.jsx)(Be.a,{dividers:!0,children:Object(H.jsx)(Je.a,{className:"body-dialog",ref:k,tabIndex:-1,component:"div",children:Object(H.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:w})})}),Object(H.jsxs)(We.a,{sx:{justifyContent:"flex-start"},children:[Object(H.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(H.jsx)(dt,{accept:"image/*",id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){if(e.target.files[0]){o(e.target.files[0]);var t=new FileReader;t.addEventListener("load",(function(){u(t.result)})),t.readAsDataURL(e.target.files[0])}}}),Object(H.jsx)($.a,{variant:"contained",component:"span",sx:{margin:"0px 8px"},children:"select"})]}),Object(H.jsx)($.a,{variant:"contained",onClick:function(){u(""),o(null)},disabled:""===j,children:"Delete"}),Object(H.jsx)($.a,{variant:"contained",startIcon:Object(H.jsx)(st.a,{}),onClick:function(){""!==m&&""===j?Object(R.a)(h).then((function(){p(O(""))})).catch((function(e){C.push("/error"),p(D({value:!0,message:"Something went wrong with deleting profile image",severity:"error"}))})).finally((function(){return g()})):null!==i?Object(R.e)(h,i).then((function(){Object(R.b)(h).then((function(e){p(O(e))})).catch((function(e){p(O(""))})).finally((function(){return g()}))})):g()},component:"span",sx:{marginRight:"0px",marginLeft:"auto"},children:"Update"})]})]})]})}function jt(){return Object(H.jsxs)("div",{children:[Object(H.jsx)(lt,{}),Object(H.jsx)(tt,{})]})}function ut(e){var t=e.editMode,n=e.displayName,a=e.email;return t?null:Object(H.jsxs)("div",{children:[Object(H.jsxs)("div",{children:["Name: ",n]}),Object(H.jsxs)("div",{children:["Email: ",a]})]})}function bt(e){var t=e.nameLettersUpdate,n=e.setNameLettersUpdate,a=e.nameErrorMessage;return Object(H.jsxs)("div",{children:[Object(H.jsxs)("div",{className:"title",children:["Name:",Object(H.jsx)("span",{className:"error-message",children:a})]}),Object(H.jsx)("div",{className:"textfield-title",children:Object(H.jsx)(Se.a,{variant:"outlined",multiline:!0,rows:1,name:"title",style:{width:"100%"},value:t,onChange:function(e){return n(e.target.value)}})})]})}function xt(e){var t=e.emailErrorMessage,n=e.emailLettersUpdate,a=e.setEmailLettersUpdate,c=e.setAuthEmailStatus,r=e.setEmailErrorMessage;return Object(H.jsxs)("div",{children:[Object(H.jsxs)("div",{className:"body",children:["Email:",Object(H.jsx)("span",{className:"error-message",children:t})]}),Object(H.jsx)("div",{className:"textfield-body",children:Object(H.jsx)(Se.a,{variant:"outlined",multiline:!0,rows:1,name:"body",style:{width:"100%"},value:n,onChange:function(e){a(e.target.value),c(!1),r("")}})})]})}function ht(e){var t=e.children,n=e.disabled;return Object(H.jsx)("div",{style:{margin:"10px 0px 0px 0px"},children:Object(H.jsxs)($.a,{type:"submit",variant:"contained",disabled:n,style:n?{padding:"10px 14px 10px 25px",borderRadius:"25px"}:{backgroundColor:"#1976d2",padding:"10px 14px 10px 25px",borderRadius:"25px"},children:[t,Object(H.jsx)(Ie.a,{})]})})}function pt(e){var t=e.editMode,n=e.setEditMode,c=e.nameLettersUpdate,r=e.setNameLettersUpdate,s=e.emailLettersUpdate,i=e.setEmailLettersUpdate,o=e.nameErrorMessage,d=e.setNameErrorMessage,l=e.emailErrorMessage,j=e.setEmailErrorMessage,u="Required",b=Object(B.b)(),x=b.currentUser.uid,h=Object(Y.g)(),p=Object(L.b)();function O(){try{fetch("".concat(Ve,"/update-userInfo-email/").concat(x),{method:"PUT",body:JSON.stringify({email:s}),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200===e.message||500===e.message&&(h.push("/error"),p(D({value:!0,message:"Something went wrong with updating userInfo email: backend",severity:"error"})))}))}))}catch(e){h.push("/error"),p(D({value:!0,message:"Something went wrong with updating userInfo email: frontend",severity:"error"}))}}var f=function(){Object(B.g)(b.currentUser,{displayName:c}).then((function(){!function(){try{fetch("".concat(Ve,"/update-userInfo-name/").concat(x),{method:"PUT",body:JSON.stringify({name:c}),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200===e.message?p(D({value:!0,message:"Updated profile!",severity:"success"})):500===e.message&&(h.push("/error"),p(D({value:!0,message:"Something went wrong with updating userInfo name: backend",severity:"error"})))}))}))}catch(e){h.push("/error"),p(D({value:!0,message:"Something went wrong with updating userInfo name: frontend",severity:"error"}))}}()})).catch((function(e){d(e.code)}))},m=Object(a.useState)(!1),g=Object(fe.a)(m,2),v=g[0],y=g[1];function w(){return S.apply(this,arguments)}function S(){return S=Object(M.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.f)(b.currentUser,s).then((function(){O(),f()})).catch(function(){var e=Object(M.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t.code);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:y(!0);case 3:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}Object(a.useEffect)((function(){"auth/invalid-email"===l&&v?(n(!0),j("Invalid email.")):"auth/requires-recent-login"===l&&v?(n(!0),j("Please signin again.")):""===l&&v&&n(!1)}),[l,n,v,j]);var k=function(){var e=Object(M.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),y(!1),j(""),""!==c||""!==s){e.next=8;break}d(u),j(u),e.next=18;break;case 8:if(""!==c){e.next=12;break}d(u),e.next=18;break;case 12:if(""!==s){e.next=16;break}j(u),e.next=18;break;case 16:return e.next=18,w();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return!1===t?null:!0===t?Object(H.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:k,children:[Object(H.jsx)(bt,{nameLettersUpdate:c,setNameLettersUpdate:r,nameErrorMessage:o}),Object(H.jsx)(xt,{emailErrorMessage:l,emailLettersUpdate:s,setEmailLettersUpdate:i,setAuthEmailStatus:y,setEmailErrorMessage:j}),Object(H.jsx)(ht,{children:"Update"})]}):void 0}var Ot=n(172),ft=n.n(Ot);function mt(e){var t=e.children,n=e.disabled,a=e.onClick;return Object(H.jsx)("div",{style:{margin:"20px 0px 0px 0px"},children:Object(H.jsxs)($.a,{onClick:a,variant:"contained",disabled:n,style:n?{padding:"10px 14px 10px 25px",borderRadius:"25px"}:{backgroundColor:"#9c9c9c",padding:"10px 14px 10px 25px",borderRadius:"25px",boxShadow:"none"},children:[t,Object(H.jsx)(ft.a,{sx:{fontSize:"20px",margin:"0px 5px 0px 11px"}})]})})}function gt(){var e=Object(L.c)(x),t=e.name,n=e.email,c=Object(a.useState)(""),r=Object(fe.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(""),d=Object(fe.a)(o,2),l=d[0],j=d[1],u=Object(a.useState)(""),b=Object(fe.a)(u,2),h=b[0],p=b[1],O=Object(a.useState)(""),f=Object(fe.a)(O,2),m=f[0],g=f[1],v=Object(a.useState)(!1),y=Object(fe.a)(v,2),w=y[0],S=y[1];return Object(a.useEffect)((function(){!1===w?(i(""),j(""),p(""),g("")):(i(t),j(n))}),[t,n,w]),Object(H.jsx)("div",{children:Object(H.jsxs)(oe,{children:[Object(H.jsx)(ie.a,{item:!0,sx:{margin:"10px"},children:Object(H.jsx)(jt,{})}),Object(H.jsx)(ie.a,{item:!0,sx:{margin:"10px"},children:Object(H.jsxs)("div",{children:[Object(H.jsx)(ut,{editMode:w,displayName:t,email:n}),Object(H.jsx)(pt,{editMode:w,setEditMode:S,nameLettersUpdate:s,setNameLettersUpdate:i,emailLettersUpdate:l,setEmailLettersUpdate:j,nameErrorMessage:h,setNameErrorMessage:p,emailErrorMessage:m,setEmailErrorMessage:g}),Object(H.jsx)(mt,{onClick:function(){S(!w)},children:"Edit"})]})})]})})}function vt(){var e=Object(B.b)(),t=Object(R.c)(),n=Object(Y.g)(),a=Object(L.b)(),c=Object(L.c)(f),r=function(){var r=Object(M.a)(P.a.mark((function r(){var s,i,o;return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s=e.currentUser.uid,""===c){r.next=11;break}return r.prev=2,i=Object(R.d)(t,"profileImages/".concat(s)),r.next=6,Object(R.a)(i).then((function(){}));case 6:r.next=11;break;case 8:r.prev=8,r.t0=r.catch(2),n.push("/error");case 11:o=function(){var e=Object(M.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Ve,"/deleteCollection/").concat(s),{method:"DELETE",headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200!==e.message&&500===e.message&&(n.push("/error"),a(D({value:!0,message:"Something went wrong with deleting your todo data: backend",severity:"error"})))}))}));case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),n.push("/error"),a(D({value:!0,message:"Something went wrong with deleting your todo data: frontend",severity:"error"}));case 9:try{fetch("".concat(Ve,"/deleteAccount/").concat(s),{method:"DELETE",headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200===e.message?a(D({value:!0,message:"Account deleted!",severity:"success"})):500===e.message&&(n.push("/error"),a(D({value:!0,message:"Something went wrong with deleting account: backend",severity:"error"})))}))}))}catch(t){n.push("/error"),a(D({value:!0,message:"Something went wrong with deleting account: frontend",severity:"error"}))}case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),Object(B.e)(e).then((function(){console.log("Sign-out successful."),o()})).catch((function(e){console.log("Sign-out failed: ".concat(e))}));case 13:case"end":return r.stop()}}),r,null,[[2,8]])})));return function(){return r.apply(this,arguments)}}();return Object(H.jsx)($.a,{onClick:r,autoFocus:!0,className:"signout-button",children:"Delete account"})}var yt=n(173),wt=n.n(yt),St=n(313),kt=n(314);function Ct(){var e=Object(a.useState)(!1),t=Object(fe.a)(e,2),n=t[0],c=t[1],r=function(){c(!1)};return Object(H.jsxs)("div",{children:[Object(H.jsxs)(le,{handleClickOpen:function(){c(!0)},children:[Object(H.jsx)(St.a,{children:Object(H.jsx)(wt.a,{})}),Object(H.jsx)(kt.a,{primary:"Delete Account"})]}),Object(H.jsxs)(ze.a,{open:n,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(H.jsx)(Ye.a,{id:"alert-dialog-title",children:"Confirm delete account"}),Object(H.jsx)(Be.a,{children:Object(H.jsxs)(Je.a,{id:"alert-dialog-description",children:["Are you sure you delete your account? ",Object(H.jsx)("br",{}),"Your todos will be deleted once you delete your account."]})}),Object(H.jsxs)(We.a,{children:[Object(H.jsx)($.a,{onClick:r,children:"Cancel"}),Object(H.jsx)(vt,{})]})]})]})}function Nt(){return Object(H.jsxs)("div",{children:[Object(H.jsx)(gt,{}),Object(H.jsx)(Ct,{})]})}function Et(e){var t=e.titleErrorMessage,n=e.titleLetters,a=e.setTitleLetters;return Object(H.jsxs)("div",{children:[Object(H.jsxs)("div",{className:"title",children:["Title:",Object(H.jsx)("span",{className:"error-message",children:t})]}),Object(H.jsx)("div",{className:"textfield-title",children:Object(H.jsx)(Se.a,{placeholder:"Type here ...",variant:"outlined",multiline:!0,rows:1,name:"letter",style:{width:"100%"},value:n||"",onChange:function(e){return a(e.target.value)}})})]})}function Dt(e){var t=e.bodyErrorMessage,n=e.bodyLetters,a=e.setBodyLetters;return Object(H.jsxs)("div",{children:[Object(H.jsxs)("div",{className:"body",children:["Body:",Object(H.jsx)("span",{className:"error-message",children:t})]}),Object(H.jsx)("div",{className:"textfield-body",children:Object(H.jsx)(Se.a,{placeholder:"Type here ...",variant:"outlined",multiline:!0,rows:18,name:"letter",style:{width:"100%"},value:n||"",onChange:function(e){return a(e.target.value)}})})]})}function It(){var e=Object(a.useState)(""),t=Object(fe.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(fe.a)(r,2),i=s[0],o=s[1],d=Object(a.useState)(""),l=Object(fe.a)(d,2),j=l[0],u=l[1],b=Object(a.useState)(""),x=Object(fe.a)(b,2),h=x[0],p=x[1],O=Object(B.b)().currentUser.uid,f=Object(Ae.a)(8),m=new Date,g=m.getFullYear()+"-"+(m.getMonth()+1)+"-"+m.getDate(),v={userUid:O,todoId:f,title:n,body:i,createdAt:g},y="Please type something",w=Object(Y.g)(),S=Object(L.b)();return Object(H.jsx)("div",{children:Object(H.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){if(e.preventDefault(),""===n&&""===i)u(y),p(y);else if(""===n)u(y);else if(""===i)p(y);else try{fetch("".concat(Ve,"/push_data_to_db"),{method:"POST",body:JSON.stringify(v),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200===e.message?(w.push("/dashboard"),S(D({value:!0,message:"New todo created!",severity:"success"}))):500===e.message&&(w.push("/error"),S(D({value:!0,message:"Something went wrong: backend",severity:"error"})))}))}))}catch(t){w.push("/error"),S(D({value:!0,message:"Something went wrong: frontend",severity:"error"}))}},children:[Object(H.jsx)(Et,{titleErrorMessage:j,titleLetters:n,setTitleLetters:c}),Object(H.jsx)(Dt,{bodyErrorMessage:h,bodyLetters:i,setBodyLetters:o}),Object(H.jsx)(Ue,{children:"Add"})]})})}function Ut(e){var t=e.titleErrorMessage,n=e.titleLettersUpdate,a=e.setTitleLettersUpdate;return Object(H.jsxs)("div",{children:[Object(H.jsxs)("div",{className:"title",children:["Title:",Object(H.jsx)("span",{className:"error-message",children:t})]}),Object(H.jsx)("div",{className:"textfield-title",children:Object(H.jsx)(Se.a,{variant:"outlined",multiline:!0,rows:1,name:"title",style:{width:"100%"},value:n,onChange:function(e){return a(e.target.value)}})})]})}function At(e){var t=e.bodyErrorMessage,n=e.bodyLettersUpdate,a=e.setBodyLettersUpdate;return Object(H.jsxs)("div",{children:[Object(H.jsxs)("div",{className:"body",children:["Body:",Object(H.jsx)("span",{className:"error-message",children:t})]}),Object(H.jsx)("div",{className:"textfield-body",children:Object(H.jsx)(Se.a,{variant:"outlined",multiline:!0,rows:18,name:"body",style:{width:"100%"},value:n,onChange:function(e){return a(e.target.value)}})})]})}function Lt(){var e=Object(Y.h)().todoId,t=Object(L.c)(l),n=Object(a.useState)(""),c=Object(fe.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(""),o=Object(fe.a)(i,2),d=o[0],j=o[1];Object(a.useEffect)((function(){var n=function(){var n=Object(M.a)(P.a.mark((function n(){var a;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.find((function(t){return t.todoId===e}));case 2:(a=n.sent)&&(s(a.title),j(a.body));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[t,e]);var u=Object(a.useState)(""),b=Object(fe.a)(u,2),x=b[0],h=b[1],p=Object(a.useState)(""),O=Object(fe.a)(p,2),f=O[0],m=O[1],g=Object(B.b)().currentUser.uid,v=new Date,y=v.getFullYear()+"-"+(v.getMonth()+1)+"-"+v.getDate(),w={userUid:g,title:r,body:d,updatedAt:y},S="Please type something",k=Object(Y.g)(),C=Object(L.b)();return Object(H.jsx)("div",{children:Object(H.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(t){if(t.preventDefault(),""===r&&""===d)h(S),m(S);else if(""===r)h(S);else if(""===d)m(S);else try{fetch("".concat(Ve,"/update/").concat(e),{method:"PUT",body:JSON.stringify(w),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200===e.message?(k.push("/dashboard"),C(D({value:!0,message:"Todo updated!",severity:"success"}))):500===e.message&&(k.push("/error"),C(D({value:!0,message:"Something went wrong: backend",severity:"error"})))}))}))}catch(n){k.push("/error"),C(D({value:!0,message:"Something went wrong: frontend",severity:"error"}))}},children:[Object(H.jsx)(Ut,{titleErrorMessage:x,titleLettersUpdate:r,setTitleLettersUpdate:s}),Object(H.jsx)(At,{bodyErrorMessage:f,bodyLettersUpdate:d,setBodyLettersUpdate:j}),Object(H.jsx)(Ue,{children:"Update"})]})})}var Tt=function(){return Object(H.jsxs)("div",{style:{textAlign:"center",margin:"100px auto 100px auto",color:"#383838"},children:[Object(H.jsx)("h1",{children:"404 - Not Found :("}),Object(H.jsx)(J.b,{to:"/signin",children:"Go Home"})]})},Pt=function(){return Object(H.jsxs)("div",{style:{textAlign:"center",margin:"100px auto 100px auto",color:"#383838"},children:[Object(H.jsx)("h1",{children:"Sorry, something went wrong :("}),Object(H.jsx)(J.b,{to:"/signin",children:"Go Home"})]})},Mt=n(294),Rt=n(292),_t=c.a.forwardRef((function(e,t){return Object(H.jsx)(Rt.a,Object(q.a)({elevation:6,ref:t,variant:"filled"},e))}));function Ft(){var e=Object(L.c)(I),t=Object(L.b)(),n=function(n,a){"clickaway"!==a&&t(D({value:!1,message:"",severity:e.severity}))};return Object(H.jsx)("div",{children:Object(H.jsx)(Mt.a,{open:e.value,autoHideDuration:6e3,onClose:n,children:Object(H.jsx)(_t,{onClose:n,severity:"".concat(e.severity),sx:{width:"100%"},children:e.message})})})}function zt(){return Object(H.jsxs)("div",{children:[Object(H.jsx)(de.a,{style:{padding:"30px 0px 0px 0px",display:"inline-flex",justifyContent:"center"},children:Object(H.jsx)(Z.a,{variant:"circular",width:100,height:100})}),Object(H.jsx)(de.a,{style:{padding:"10px 20px",textAlign:"center"},children:Object(H.jsx)(kt.a,{primary:Object(H.jsx)(Z.a,{variant:"text",height:20,width:"70%",style:{textAlign:"center",margin:"-2px auto 0px auto"}})})})]})}function Wt(){var e=Object(L.c)(f),t=function(){return""===e?Object(H.jsx)(Ze.a,{alt:"Avatar",sx:{width:100,height:100},children:Object(H.jsx)(et.a,{style:{fontSize:"70px"}})}):Object(H.jsx)("img",{src:e,alt:"profile",width:"100",height:"100",style:{borderRadius:"50px"}})};return Object(H.jsx)(de.a,{style:{padding:"30px 0px 0px 0px",display:"inline-flex",justifyContent:"center"},children:Object(H.jsx)(t,{})})}function Bt(e){var t=e.displayName;return Object(H.jsx)(de.a,{style:{padding:"10px 20px",textAlign:"center"},children:Object(H.jsx)(kt.a,{primary:t})})}function Jt(){var e=Object(L.c)(f),t=Object(L.c)(C),n=Object(L.c)(x),c=Object(a.useState)(null),r=Object(fe.a)(c,2),s=r[0],i=r[1];return Object(a.useEffect)((function(){n&&i(n.name)}),[n]),t||null===e||null===s||void 0===s?Object(H.jsx)(zt,{}):Object(H.jsxs)("div",{children:[Object(H.jsx)(Wt,{}),Object(H.jsx)(Bt,{displayName:s})]})}var Yt=n(174),qt=n.n(Yt);function Gt(){var e=[{text:"Create Todo",link:"/create",icon:Object(H.jsx)(qt.a,{})},{text:"Account",link:"/account",icon:Object(H.jsx)(et.a,{})}];return Object(H.jsx)("div",{children:e.map((function(e){var t=e.text,n=e.link,a=e.icon;return Object(H.jsx)(J.b,{to:"".concat(n),children:Object(H.jsxs)(de.a,{button:!0,style:{padding:"10px 30px"},children:[Object(H.jsx)(St.a,{children:a}),Object(H.jsx)(kt.a,{primary:t})]})},"".concat(t))}))})}function Vt(){var e=Object(B.b)(),t=Object(L.b)();return Object(H.jsx)($.a,{onClick:function(){Object(B.e)(e).then((function(){t(D({value:!0,message:"Sign out successful!",severity:"success"}))})).catch((function(e){t(D({value:!0,message:"Something went wrong with sign out",severity:"error"}))}))},autoFocus:!0,className:"signout-button",children:"Sign out"})}var Ht=n(175),Kt=n.n(Ht);function Xt(){var e=Object(a.useState)(!1),t=Object(fe.a)(e,2),n=t[0],c=t[1],r=function(){c(!1)};return Object(H.jsxs)("div",{children:[Object(H.jsxs)(de.a,{button:!0,onClick:function(){c(!0)},style:{padding:"10px 30px"},children:[Object(H.jsx)(St.a,{children:Object(H.jsx)(Kt.a,{})}),Object(H.jsx)(kt.a,{primary:"Sign Out"})]}),Object(H.jsxs)(ze.a,{open:n,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(H.jsx)(Ye.a,{id:"alert-dialog-title",children:"Confirm sign out"}),Object(H.jsx)(Be.a,{children:Object(H.jsx)(Je.a,{id:"alert-dialog-description",children:"Are you sure you sign out?"})}),Object(H.jsxs)(We.a,{children:[Object(H.jsx)($.a,{onClick:r,children:"Cancel"}),Object(H.jsx)(Vt,{})]})]})]})}var Qt=n(316),Zt=n(302),$t=n(288),en=n(315),tn=n(176),nn=n.n(tn);function an(e){var t=e.handleDrawerToggle;return Object(H.jsxs)("div",{children:[Object(H.jsx)($t.a,{}),Object(H.jsx)(Qt.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},children:Object(H.jsxs)(Zt.a,{children:[Object(H.jsx)(en.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:t,sx:{mr:2,display:{sm:"none"}},children:Object(H.jsx)(nn.a,{})}),Object(H.jsx)(J.b,{to:"/dashboard",children:Object(H.jsx)(Re.a,{variant:"h6",noWrap:!0,component:"div",style:{color:"#ffffff"},children:"Todo List"})})]})})]})}var cn=n(298);function rn(e){var t=e.mobileOpen,n=e.handleDrawerToggle,a=e.drawer,c=e.props.window,r=void 0!==c?function(){return c().document.body}:void 0;return Object(H.jsxs)("div",{children:[Object(H.jsx)(cn.a,{container:r,variant:"temporary",open:t,onClose:n,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},children:a}),Object(H.jsx)(cn.a,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},open:!0,children:a})]})}var sn=n(289),on=n(303),dn=n(301);function ln(e){var t=Object(a.useState)(!1),n=Object(fe.a)(t,2),c=n[0],r=n[1],s=function(){r(!c)},i=Object(H.jsxs)("div",{children:[Object(H.jsx)(Zt.a,{}),Object(H.jsx)(on.a,{}),Object(H.jsx)(dn.a,{children:Object(H.jsx)(Jt,{})}),Object(H.jsx)(on.a,{}),Object(H.jsxs)(dn.a,{children:[Object(H.jsx)(Gt,{}),Object(H.jsx)(Xt,{})]})]});return Object(H.jsxs)(sn.a,{sx:{display:"flex"},children:[Object(H.jsx)(an,{handleDrawerToggle:s}),Object(H.jsx)(sn.a,{component:"nav",sx:{width:{sm:240},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:Object(H.jsx)(rn,{mobileOpen:c,handleDrawerToggle:s,drawer:i,props:e})}),Object(H.jsxs)(sn.a,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(240,"px)")}},children:[Object(H.jsx)(Zt.a,{}),Object(H.jsx)("div",{children:e.children})]})]})}function jn(){Object(z.a)(W);var e=Object(L.b)(),t=Object(B.b)(),n=Object(R.c)(),c=Object(L.c)(f);return Object(a.useEffect)((function(){var a=Object(B.c)(t,function(){var a=Object(M.a)(P.a.mark((function a(c){var r,s,i,o;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=null,!c){a.next=24;break}return e(v(!0)),s=c.uid,i={uid:s},console.log("Auth OK, user logged in ".concat(s)),F()(Ve).on("newChangesInTodos",(function(t){e(d(t))})),F()(Ve).on("newChangesInProfile",(function(t){e(b(t))})),console.log("Socket opened"),a.prev=11,a.next=14,fetch("".concat(Ve,"/catch-user-uid"),{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){}))}));case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(11),console.log(a.t0);case 19:o=Object(R.d)(n,"profileImages/".concat(s)),Object(R.b)(o).then((function(t){e(O(t))})).catch((function(t){e(O(""))})).finally((function(){e(k(!1)),console.log("Loading OK")})),c.getIdTokenResult().then((function(e){var n=1e3*e.claims.auth_time,a=36e5-(Date.now()-n);r=setTimeout((function(){return Object(B.e)(t).then((function(){console.log("Session timeout. Sign-out successful.")})).catch((function(e){console.log("Session timeout. Sign-out failed: ".concat(e))}))}),a)})),a.next=31;break;case 24:e(v(!1)),e(k(!0)),e(d([{title:null,body:null}])),e(b([{name:null,email:null,userUid:null}])),e(O(null)),clearTimeout(r),r=null;case 31:case"end":return a.stop()}}),a,null,[[11,16]])})));return function(e){return a.apply(this,arguments)}}());return function(){return a((function(){}))}}),[t,e,n,c]),Object(H.jsxs)("div",{className:"App",children:[Object(H.jsx)(J.a,{children:Object(H.jsxs)(Y.d,{children:[Object(H.jsxs)(Y.b,{exact:!0,path:["/signup","/signin"],children:[Object(H.jsx)(Oe,{exact:!0,path:"/signup",component:Le}),Object(H.jsx)(Oe,{exact:!0,path:"/signin",component:Me})]}),Object(H.jsx)(Y.b,{exact:!0,path:["/dashboard","/account","/create","/update/:todoId"],children:Object(H.jsxs)(ln,{children:[Object(H.jsx)(he,{exact:!0,path:"/dashboard",component:Qe}),Object(H.jsx)(he,{exact:!0,path:"/account",component:Nt}),Object(H.jsx)(he,{exact:!0,path:"/create",component:It}),Object(H.jsx)(he,{exact:!0,path:"/update/:todoId",component:Lt})]})}),Object(H.jsx)(Y.b,{exact:!0,path:"/error",component:Pt}),Object(H.jsx)(Y.b,{component:Tt})]})}),Object(H.jsx)(Ft,{})]})}s.a.render(Object(H.jsx)(c.a.StrictMode,{children:Object(H.jsx)(L.a,{store:A,children:Object(H.jsx)(jn,{})})}),document.getElementById("root"))}},[[235,1,2]]]);
//# sourceMappingURL=main.57901ead.chunk.js.map