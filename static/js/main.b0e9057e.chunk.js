(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{192:function(e,t,n){},197:function(e,t,n){},230:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),s=n(60),r=n.n(s),i=(n(192),n(43)),o=Object(i.b)({name:"todoData",initialState:{value:[{title:"",body:""}]},reducers:{updateTodoData:function(e,t){e.value=t.payload}}}),d=o.actions.updateTodoData,l=function(e){return e.todoData.value},j=o.reducer,u=Object(i.b)({name:"profileData",initialState:{value:[{firstName:"",lastName:""}]},reducers:{updateProfileData:function(e,t){e.value=t.payload[0]}}}),b=u.actions.updateProfileData,h=u.reducer,x=Object(i.b)({name:"userAuthData",initialState:{value:!1},reducers:{updateUserAuthData:function(e,t){e.value=t.payload}}}),O=x.actions.updateUserAuthData,p=function(e){return e.userAuthData.value},m=x.reducer,v=Object(i.b)({name:"isLoadingData",initialState:{value:!0},reducers:{updateIsLoadingData:function(e,t){e.value=t.payload}}}),f=v.actions.updateIsLoadingData,g=function(e){return e.isLoadingData.value},y=v.reducer,w=Object(i.b)({name:"userData",initialState:{value:!0},reducers:{updateUserData:function(e,t){e.value=t.payload}}}),S=(w.actions.updateUserData,w.reducer),N=Object(i.b)({name:"snackbar",initialState:{value:!1,message:"",severity:"success"},reducers:{updateSnackbar:function(e,t){e.value=t.payload.value,e.message=t.payload.message,e.severity=t.payload.severity}}}),C=N.actions.updateSnackbar,k=function(e){return e.snackbar},D=N.reducer,A=Object(i.a)({reducer:{todoData:j,profileData:h,userAuthData:m,isLoadingData:y,userData:S,snackbar:D}}),T=n(25),E=n(1),I=n.n(E),P=n(4),U=(n(197),n(131)),L=n.n(U),_=n(98),M={apiKey:"AIzaSyDjriWqAwlwma04rJXXfZW8_3RaRQHzs8w",authDomain:"succulent-bfbf4.firebaseapp.com",projectId:"succulent-bfbf4",storageBucket:"succulent-bfbf4.appspot.com",messagingSenderId:"372415741597",appId:"1:372415741597:web:dfa6f76a475b3ca6855e74",measurementId:"G-YX5RDN8G4W"};Object(_.a)(M);var F=n(24),z=n(27),W=n(30),B=n(62),R=n(12),J=n(108),Y=n(296),G=n(0);function H(e){var t=e.children;return Object(G.jsx)(Y.a,{sx:{margin:{xs:"10px 0px",sm:"10px"},padding:"10px 20px",height:"200px",width:{xs:"100%",sm:"350px"},minWidth:{sm:"292px"},position:"relative"},children:t})}var V=n(276);function q(e){var t=e.children;return Object(G.jsx)(V.a,{sx:{display:"flex",flexWrap:"wrap",justifyContent:{xs:"center",sm:"flex-start"}},children:t})}var K=n(292),X=n(297),Q=n(102),Z=n.n(Q),$=n(103),ee=n.n($),te=n(104),ne=n.n(te);function ae(){return Object(G.jsx)(q,{children:[1,2].map((function(e){return Object(G.jsxs)(H,{children:[Object(G.jsx)(X.a,{className:"preview-edit-delete-button",style:{position:"absolute",right:"75px"},children:Object(G.jsx)(Z.a,{})}),Object(G.jsx)(X.a,{className:"preview-edit-delete-button",style:{position:"absolute",right:"42px"},children:Object(G.jsx)(ee.a,{})}),Object(G.jsx)(X.a,{className:"preview-edit-delete-button",style:{position:"absolute",right:"10px"},children:Object(G.jsx)(ne.a,{})}),Object(G.jsx)(K.a,{height:30,width:"60%"}),Object(G.jsx)(K.a,{height:20,width:"100%",style:{marginTop:17}}),Object(G.jsx)(K.a,{height:20,width:"100%"}),Object(G.jsx)(K.a,{height:20,width:"50%"}),Object(G.jsx)(K.a,{height:20,width:"40%",style:{marginTop:45}})]},e)}))})}var ce=n(291);function se(e){var t=e.children;return Object(G.jsx)("div",{children:Object(G.jsx)(Y.a,{sx:{padding:{xs:"20px 20px",sm:"40px 40px"},height:"auto",position:"relative"},children:Object(G.jsx)(V.a,{children:Object(G.jsx)(ce.a,{container:!0,sx:{alignItems:"center",justifyContent:"space-around"},children:t})})})})}var re=n(290);function ie(e){var t=e.children,n=e.handleClickOpen;return Object(G.jsx)(Y.a,{sx:{marginTop:"20px",padding:{xs:"20px 20px",sm:"40px 40px"},height:"auto",position:"relative"},children:Object(G.jsx)(re.a,{button:!0,onClick:n,style:{padding:"10px 15px"},children:t})})}function oe(){return Object(G.jsxs)("div",{children:[Object(G.jsxs)(se,{children:[Object(G.jsx)(ce.a,{item:!0,sx:{padding:"10px"},children:Object(G.jsx)(K.a,{variant:"circular",width:200,height:200})}),Object(G.jsx)(ce.a,{item:!0,sx:{padding:"10px"},children:Object(G.jsx)("div",{children:Object(G.jsxs)("div",{style:{minWidth:"200px"},children:[Object(G.jsx)(K.a,{height:24,width:"100%"}),Object(G.jsx)(K.a,{height:24,width:"100%"}),Object(G.jsx)(K.a,{height:24,width:"80%"})]})})})]}),Object(G.jsx)(ie,{children:Object(G.jsx)("div",{style:{minWidth:"200px",padding:"4px 0px"},children:Object(G.jsx)(K.a,{height:25,width:"100%"})})})]})}var de=n(298);function le(){return Object(G.jsx)("div",{style:{width:"100%",textAlign:"center",margin:"100px auto"},children:Object(G.jsx)(de.a,{})})}var je=n(80),ue=n.n(je),be=n(293);function he(){var e=Object(F.b)().currentUser,t=null;null!==e&&(t=e.displayName);var n=function(){return null===t?Object(G.jsx)(K.a,{variant:"circular",width:100,height:100}):Object(G.jsx)(be.a,{alt:"Avatar",sx:{width:100,height:100},children:Object(G.jsx)(ue.a,{style:{fontSize:"70px"}})})};return Object(G.jsx)(re.a,{style:{padding:"30px 0px 0px 0px",display:"inline-flex",justifyContent:"center"},children:Object(G.jsx)(n,{})})}var xe=n(299);function Oe(){var e=Object(F.b)().currentUser,t=null;null!==e&&(t=e.displayName);var n=function(){return null===t?Object(G.jsx)(K.a,{variant:"text",height:20,width:"70%",style:{textAlign:"center",margin:"-2px auto 0px auto"}}):Object(G.jsx)("div",{children:t})};return Object(G.jsx)(re.a,{style:{padding:"10px 20px",textAlign:"center"},children:Object(G.jsx)(xe.a,{primary:Object(G.jsx)(n,{})})})}var pe=n(300),me=n(163),ve=n.n(me);function fe(){var e=[{text:"Create Todo",link:"/create",icon:Object(G.jsx)(ve.a,{})},{text:"Account",link:"/account",icon:Object(G.jsx)(ue.a,{})}];return Object(G.jsx)("div",{children:e.map((function(e){var t=e.text,n=e.link,a=e.icon;return Object(G.jsx)(z.b,{to:"".concat(n),children:Object(G.jsxs)(re.a,{button:!0,style:{padding:"10px 30px"},children:[Object(G.jsx)(pe.a,{children:a}),Object(G.jsx)(xe.a,{primary:t})]})},"".concat(t))}))})}function ge(){var e=Object(F.b)(),t=Object(T.b)();return Object(G.jsx)(X.a,{onClick:function(){t(d([{title:"",body:""}])),t(b([{firstName:"",lastName:""}])),Object(F.e)(e).then((function(){t(C({value:!0,message:"Sign out successful!",severity:"success"}))})).catch((function(e){t(C({value:!0,message:"Something went wrong with sign out",severity:"error"}))}))},autoFocus:!0,className:"signout-button",children:"Sign out"})}var ye=n(301),we=n(305),Se=n(303),Ne=n(304),Ce=n(302),ke=n(165),De=n.n(ke);function Ae(){var e=Object(a.useState)(!1),t=Object(R.a)(e,2),n=t[0],c=t[1],s=function(){c(!1)};return Object(G.jsxs)("div",{children:[Object(G.jsxs)(re.a,{button:!0,onClick:function(){c(!0)},style:{padding:"10px 30px"},children:[Object(G.jsx)(pe.a,{children:Object(G.jsx)(De.a,{})}),Object(G.jsx)(xe.a,{primary:"Sign Out"})]}),Object(G.jsxs)(ye.a,{open:n,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(G.jsx)(Ce.a,{id:"alert-dialog-title",children:"Confirm sign out"}),Object(G.jsx)(Se.a,{children:Object(G.jsx)(Ne.a,{id:"alert-dialog-description",children:"Are you sure you sign out?"})}),Object(G.jsxs)(we.a,{children:[Object(G.jsx)(X.a,{onClick:s,children:"Cancel"}),Object(G.jsx)(ge,{})]})]})]})}var Te=n(310),Ee=n(306),Ie=n(281),Pe=n(309),Ue=n(311),Le=n(166),_e=n.n(Le);function Me(e){var t=e.handleDrawerToggle;return Object(G.jsxs)("div",{children:[Object(G.jsx)(Ie.a,{}),Object(G.jsx)(Te.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},children:Object(G.jsxs)(Ee.a,{children:[Object(G.jsx)(Ue.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:t,sx:{mr:2,display:{sm:"none"}},children:Object(G.jsx)(_e.a,{})}),Object(G.jsx)(z.b,{to:"/dashboard",children:Object(G.jsx)(Pe.a,{variant:"h6",noWrap:!0,component:"div",style:{color:"#ffffff"},children:"Todo List"})})]})})]})}var Fe=n(294);function ze(e){var t=e.mobileOpen,n=e.handleDrawerToggle,a=e.drawer,c=e.props.window,s=void 0!==c?function(){return c().document.body}:void 0;return Object(G.jsxs)("div",{children:[Object(G.jsx)(Fe.a,{container:s,variant:"temporary",open:t,onClose:n,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},children:a}),Object(G.jsx)(Fe.a,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},open:!0,children:a})]})}var We=n(282),Be=n(307),Re=n(308);function Je(e){var t=Object(a.useState)(!1),n=Object(R.a)(t,2),c=n[0],s=n[1],r=function(){s(!c)},i=Object(G.jsxs)("div",{children:[Object(G.jsx)(Ee.a,{}),Object(G.jsx)(Be.a,{}),Object(G.jsxs)(Re.a,{children:[Object(G.jsx)(he,{}),Object(G.jsx)(Oe,{})]}),Object(G.jsx)(Be.a,{}),Object(G.jsxs)(Re.a,{children:[Object(G.jsx)(fe,{}),Object(G.jsx)(Ae,{})]})]});return Object(G.jsxs)(We.a,{sx:{display:"flex"},children:[Object(G.jsx)(Me,{handleDrawerToggle:r}),Object(G.jsx)(We.a,{component:"nav",sx:{width:{sm:240},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:Object(G.jsx)(ze,{mobileOpen:c,handleDrawerToggle:r,drawer:i,props:e})}),Object(G.jsxs)(We.a,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(240,"px)")}},children:[Object(G.jsx)(Ee.a,{}),Object(G.jsx)("div",{children:e.children})]})]})}var Ye=["component"],Ge=function(e){var t,n=e.component,c=Object(J.a)(e,Ye),s=Object(T.c)(p),r=Object(T.c)(g),i=Object(T.c)(l),o=Object(a.useState)(""),d=Object(R.a)(o,2),j=d[0],u=d[1];return Object(a.useEffect)((function(){i[0]&&u(i[0].title)}),[i]),"/dashboard"===c.path?t=Object(G.jsx)(ae,{}):"/account"===c.path?t=Object(G.jsx)(oe,{}):("/create"===c.path||"/update/:todoId"===c.path)&&(t=Object(G.jsx)(le,{})),Object(G.jsx)(Je,{children:Object(G.jsx)(W.b,Object(B.a)(Object(B.a)({},c),{},{render:function(e){return r||s&&""===j?t:s?Object(G.jsx)(n,Object(B.a)({},e)):Object(G.jsx)(W.a,{to:"/signin"})}}))})},He=["component"],Ve=function(e){var t=e.component,n=Object(J.a)(e,He),a=Object(T.c)(p);return Object(G.jsx)(W.b,Object(B.a)(Object(B.a)({},n),{},{render:function(e){return a?Object(G.jsx)(W.a,{to:"/dashboard"}):Object(G.jsx)(t,Object(B.a)({},e))}}))},qe=n(74),Ke=n(167),Xe=n.n(Ke);function Qe(){return Object(G.jsx)("div",{style:{textAlign:"center",margin:"20px auto"},children:Object(G.jsx)(Xe.a,{style:{fontSize:"50px",color:"#1976d2"}})})}function Ze(e){var t=e.children,n=e.title;return Object(G.jsxs)("div",{className:"Login",children:[Object(G.jsx)(Qe,{}),Object(G.jsx)("div",{className:"login-title",children:n}),Object(G.jsx)(V.a,{sx:{display:"flex",justifyContent:"center"},children:t})]})}var $e=n(285);function et(e){var t=e.name,n=e.setName;return Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"title",children:"User Name"}),Object(G.jsx)("div",{className:"textfield-title",children:Object(G.jsx)($e.a,{autoFocus:!0,variant:"outlined",name:"name",style:{width:"100%"},value:t,onChange:function(e){return n(e.target.value)}})})]})}function tt(e){var t=e.email,n=e.setEmail;return Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"body",children:"Email"}),Object(G.jsx)("div",{className:"textfield-title",children:Object(G.jsx)($e.a,{variant:"outlined",name:"email",style:{width:"100%"},value:t,onChange:function(e){return n(e.target.value)}})})]})}function nt(e){var t=e.passwordShown,n=e.setPasswordShown;return Object(G.jsx)("div",{onClick:function(){n(!t)},type:"button",className:"password-toggle-button",children:"Show Password"})}function at(e){var t=e.password,n=e.setPassword,c=e.confirmPassword,s=e.setConfirmPassword,r=Object(a.useState)(!1),i=Object(R.a)(r,2),o=i[0],d=i[1],l=Object(a.useState)(!1),j=Object(R.a)(l,2),u=j[0],b=j[1];return Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{className:"password-text-container",children:[Object(G.jsx)("div",{children:"Password"}),Object(G.jsx)(nt,{passwordShown:o,setPasswordShown:d})]}),Object(G.jsx)("div",{className:"textfield-title",children:Object(G.jsx)($e.a,{variant:"outlined",name:"password",type:o?"text":"password",style:{width:"100%"},value:t,onChange:function(e){return n(e.target.value)}})}),Object(G.jsxs)("div",{className:"password-text-container",children:[Object(G.jsx)("div",{children:"Confirm Password"}),Object(G.jsx)(nt,{passwordShown:u,setPasswordShown:b})]}),Object(G.jsx)("div",{className:"textfield-title",children:Object(G.jsx)($e.a,{variant:"outlined",name:"confirmPassword",type:u?"text":"password",style:{width:"100%"},value:c,onChange:function(e){return s(e.target.value)}})})]})}var ct=n(168),st=n.n(ct);function rt(e){var t=e.children,n=e.disabled;return Object(G.jsx)("div",{style:{margin:"0 auto",textAlign:"center"},children:Object(G.jsxs)(X.a,{type:"submit",variant:"contained",disabled:n,style:n?{padding:"10px 14px 10px 25px",borderRadius:"25px"}:{backgroundColor:"#1976d2",padding:"10px 14px 10px 25px",borderRadius:"25px"},children:[t,Object(G.jsx)(st.a,{className:"arrowIcon"})]})})}var it=n(109);function ot(){var e=Object(a.useState)(""),t=Object(R.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(R.a)(s,2),i=r[0],o=r[1],d=Object(a.useState)(""),l=Object(R.a)(d,2),j=l[0],u=l[1],b=Object(a.useState)(""),h=Object(R.a)(b,2),x=h[0],O=h[1],p=Object(a.useState)(null),m=Object(R.a)(p,2),v=m[0],f=m[1];var g=Object(it.a)(8),y=new Date,w=y.getFullYear()+"-"+(y.getMonth()+1)+"-"+y.getDate(),S=Object(F.b)(),N=Object(qe.b)(),C=Object(W.g)();return Object(G.jsx)(Ze,{title:"Sign Up",children:Object(G.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),j===x?Object(F.a)(S,i,j).then(function(){var e=Object(P.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user,console.log("user ".concat(a.uid," is created")),e.next=4,Object(F.f)(S.currentUser,{displayName:n,uid:a.uid}).catch((function(e){C.push("/error")}));case 4:return e.prev=4,e.next=7,Object(qe.c)(Object(qe.a)(N,a.uid,"userInfo"),{userUid:a.uid,name:n,email:a.email});case 7:return e.next=9,Object(qe.c)(Object(qe.a)(N,a.uid,"todos","active",g),{todoId:g,title:"Test",body:"This is where you can write contents.",createdAt:w});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),C.push("/error");case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){var t=e.message;f("Firebase: Error (auth/email-already-in-use)."===t?"This email adress is already in use.":"Firebase: Password should be at least 6 characters (auth/weak-password)."===t?"Password should be at least 6 characters.":"Firebase: Error (auth/network-request-failed)."===t?"Something went wrong with network. Please check your internet connection.":"".concat(t," Please contact _______."))})):f("Your password and confirmation password do not match.")},children:[Object(G.jsx)("div",{className:"register-error-message",children:v}),Object(G.jsx)(et,{name:n,setName:c}),Object(G.jsx)(tt,{email:i,setEmail:o}),Object(G.jsx)(at,{password:j,setPassword:u,confirmPassword:x,setConfirmPassword:O}),Object(G.jsx)("div",{className:"login-button",children:Object(G.jsx)(rt,{type:"submit",disabled:!(n.length>0&&i.length>0&&j.length>0),children:"Signup"})}),Object(G.jsx)(z.b,{to:"/signin",children:Object(G.jsx)("div",{className:"toggle-signin-signup",children:"Already have an account? Sign in"})})]})})}function dt(e){var t=e.email,n=e.setEmail;return Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"title",children:"Email"}),Object(G.jsx)("div",{className:"textfield-title",children:Object(G.jsx)($e.a,{autoFocus:!0,variant:"outlined",name:"email",style:{width:"100%"},value:t,onChange:function(e){return n(e.target.value)}})})]})}function lt(e){var t=e.password,n=e.setPassword,c=Object(a.useState)(!1),s=Object(R.a)(c,2),r=s[0],i=s[1];return Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{className:"password-text-container",children:[Object(G.jsx)("div",{children:"Password"}),Object(G.jsx)(nt,{passwordShown:r,setPasswordShown:i})]}),Object(G.jsx)("div",{className:"textfield-title",children:Object(G.jsx)($e.a,{variant:"outlined",name:"password",type:r?"text":"password",style:{width:"100%"},value:t,onChange:function(e){return n(e.target.value)}})})]})}function jt(){var e=Object(a.useState)(""),t=Object(R.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(R.a)(s,2),i=r[0],o=r[1],d=Object(a.useState)(null),l=Object(R.a)(d,2),j=l[0],u=l[1];var b=Object(F.b)();function h(){return(h=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),Object(F.d)(b,n,i).then((function(e){var t=e.user;console.log(t)})).catch((function(e){var t=e.message;u("Firebase: Error (auth/user-not-found)."===t?"User not found. Please check your email adress.":"Firebase: Error (auth/wrong-password)."===t?"Password seems wrong, please check it again.":"Firebase: Error (auth/network-request-failed)."===t?"Something went wrong with network. Please check your internet connection.":"".concat(t," Please contact _______."))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(G.jsx)(Ze,{title:"Sign In",children:Object(G.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){return h.apply(this,arguments)},children:[Object(G.jsx)("div",{className:"register-error-message",children:j}),Object(G.jsx)(dt,{email:n,setEmail:c}),Object(G.jsx)(lt,{password:i,setPassword:o}),Object(G.jsx)("div",{className:"login-button",children:Object(G.jsx)(rt,{type:"submit",disabled:!(n.length>0&&i.length>0),children:"Signin"})}),Object(G.jsx)(z.b,{to:"/signup",children:Object(G.jsx)("div",{className:"toggle-signin-signup",children:"Don't have an account? Sign up"})})]})})}var ut=n(284);function bt(e){var t=e.updatedAt,n=Object(ut.a)("(max-width:599px)");return t?Object(G.jsxs)(Pe.a,{className:"updated-dialog",component:n?"div":"span",sx:{paddingLeft:{sm:"15px"}},children:["Updated: ",t]}):null}function ht(e){var t=e.todoId,n=e.title,c=e.body,s=e.createdAt,r=e.updatedAt,i=Object(a.useState)(!1),o=Object(R.a)(i,2),d=o[0],l=o[1],j=function(){l(!1)},u=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(d){var e=u.current;null!==e&&e.focus()}}),[d]),Object(G.jsxs)("div",{children:[Object(G.jsx)(X.a,{onClick:function(){l(!0)},className:"preview-edit-delete-button",style:{position:"absolute",right:"75px"},children:Object(G.jsx)(Z.a,{})}),Object(G.jsxs)(ye.a,{open:d,onClose:j,scroll:"paper",fullWidth:!0,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(G.jsx)(Ce.a,{className:"title-dialog",children:n}),Object(G.jsx)(Se.a,{dividers:!0,children:Object(G.jsxs)(Ne.a,{className:"body-dialog",ref:u,tabIndex:-1,component:"div",children:[c,Object(G.jsxs)("div",{className:"created-dialog",children:["Created: ",s,Object(G.jsx)(bt,{updatedAt:r})]})]})}),Object(G.jsxs)(we.a,{children:[Object(G.jsx)(z.b,{to:"/update/".concat(t),children:Object(G.jsx)(X.a,{onClick:j,children:"Modify"})}),Object(G.jsx)(X.a,{onClick:j,children:"Close"})]})]})]})}function xt(e){var t=e.todoId;return Object(G.jsx)(z.b,{to:"/update/".concat(t),children:Object(G.jsx)(X.a,{className:"preview-edit-delete-button",style:{position:"absolute",right:"42px"},children:Object(G.jsx)(ee.a,{})})})}var Ot="https://fullstack-todo-backend-misako.herokuapp.com";function pt(e){var t=e.todoId,n=e.handleClose,a=Object(F.b)().currentUser.uid,c=Object(W.g)(),s=Object(T.b)();return Object(G.jsx)(X.a,{onClick:function(){return function(e){try{n(),fetch("".concat(Ot,"/delete/").concat(a,"/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200===e.message?(n(),s(C({value:!0,message:"Todo deleted!",severity:"success"}))):500===e.message&&(n(),c.push("/error"),s(C({value:!0,message:"Something went wrong: backend",severity:"error"})))}))}))}catch(t){c.push("/error"),s(C({value:!0,message:"Something went wrong: frontend",severity:"error"}))}}(t)},autoFocus:!0,className:"delete-button",children:"Delete"})}function mt(e){var t=e.todoId,n=e.title,c=Object(a.useState)(!1),s=Object(R.a)(c,2),r=s[0],i=s[1],o=function(){i(!1)};return Object(G.jsxs)("div",{children:[Object(G.jsx)(X.a,{onClick:function(){i(!0)},className:"preview-edit-delete-button",style:{position:"absolute",right:"10px"},children:Object(G.jsx)(ne.a,{})}),Object(G.jsxs)(ye.a,{open:r,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(G.jsx)(Ce.a,{id:"alert-dialog-title",children:"Confirm delete"}),Object(G.jsx)(Se.a,{children:Object(G.jsxs)(Ne.a,{id:"alert-dialog-description",children:['Are you sure you want to delete "',n,'"?']})}),Object(G.jsxs)(we.a,{children:[Object(G.jsx)(X.a,{onClick:o,children:"Cancel"}),Object(G.jsx)(pt,{todoId:t,setOpen:i,handleClose:o})]})]})]})}function vt(e){var t=e.body,n=e.createdAt,a=e.updatedAt;return Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{className:"todo-createdAt",children:["Create: ",n,a&&Object(G.jsxs)("span",{className:"todo-updatedAt",children:["Update: ",a]})]}),Object(G.jsx)("div",{className:"todo-body",children:t})]})}function ft(){var e=Object(T.c)(l);return Object(G.jsx)(q,{children:e.map((function(e,t){return Object(G.jsxs)(H,{children:[Object(G.jsxs)(ce.a,{container:!0,children:[Object(G.jsx)(ce.a,{item:!0,xs:7,children:Object(G.jsx)("div",{className:"todo-title",children:e.title})}),Object(G.jsxs)(ce.a,{item:!0,children:[Object(G.jsx)(ht,{todoId:e.todoId,title:e.title,body:e.body,createdAt:e.createdAt,updatedAt:e.updatedAt}),Object(G.jsx)(xt,{todoId:e.todoId}),Object(G.jsx)(mt,{todoId:e.todoId,title:e.title})]})]}),Object(G.jsx)(vt,{body:e.body,createdAt:e.createdAt,updatedAt:e.updatedAt})]},t)}))})}function gt(){var e=Object(F.b)().currentUser,t=null,n=null;return null!==e&&(t=e.displayName,n=e.email),Object(G.jsx)("div",{children:Object(G.jsxs)(se,{children:[Object(G.jsx)(ce.a,{item:!0,sx:{margin:"10px"},children:Object(G.jsx)(be.a,{sx:{width:200,height:200},children:Object(G.jsx)(ue.a,{style:{fontSize:"140px"}})})}),Object(G.jsx)(ce.a,{item:!0,sx:{margin:"10px"},children:Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{children:["Name: ",t]}),Object(G.jsxs)("div",{children:["Email: ",n]}),Object(G.jsx)("div",{children:"Edit"})]})})]})})}function yt(){var e=Object(F.b)(),t=Object(W.g)(),n=Object(T.b)();return Object(G.jsx)(X.a,{onClick:function(){var a=e.currentUser.uid;try{fetch("".concat(Ot,"/deleteAccount/").concat(a),{method:"DELETE",headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200===e.message?n(C({value:!0,message:"Account deleted!",severity:"success"})):500===e.message&&(t.push("/error"),n(C({value:!0,message:"Something went wrong with deleting account: backend",severity:"error"})))}))}))}catch(c){t.push("/error"),n(C({value:!0,message:"Something went wrong with deleting account: frontend",severity:"error"}))}try{fetch("".concat(Ot,"/deleteCollection/").concat(a),{method:"DELETE",headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200!==e.message&&500===e.message&&(t.push("/error"),n(C({value:!0,message:"Something went wrong with deleting your todo data: backend",severity:"error"})))}))}))}catch(c){t.push("/error"),n(C({value:!0,message:"Something went wrong with deleting your todo data: frontend",severity:"error"}))}n(d([{title:"",body:""}])),n(b([{firstName:"",lastName:""}])),Object(F.e)(e).then((function(){console.log("Sign-out successful.")})).catch((function(e){console.log("Sign-out failed: ".concat(e))}))},autoFocus:!0,className:"signout-button",children:"Delete account"})}var wt=n(169),St=n.n(wt);function Nt(){var e=Object(a.useState)(!1),t=Object(R.a)(e,2),n=t[0],c=t[1],s=function(){c(!1)};return Object(G.jsxs)("div",{children:[Object(G.jsxs)(ie,{handleClickOpen:function(){c(!0)},children:[Object(G.jsx)(pe.a,{children:Object(G.jsx)(St.a,{})}),Object(G.jsx)(xe.a,{primary:"Delete Account"})]}),Object(G.jsxs)(ye.a,{open:n,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(G.jsx)(Ce.a,{id:"alert-dialog-title",children:"Confirm delete account"}),Object(G.jsx)(Se.a,{children:Object(G.jsxs)(Ne.a,{id:"alert-dialog-description",children:["Are you sure you delete your account? ",Object(G.jsx)("br",{}),"Your todos will be deleted once you delete your account."]})}),Object(G.jsxs)(we.a,{children:[Object(G.jsx)(X.a,{onClick:s,children:"Cancel"}),Object(G.jsx)(yt,{})]})]})]})}function Ct(){return Object(G.jsxs)("div",{children:[Object(G.jsx)(gt,{}),Object(G.jsx)(Nt,{})]})}function kt(e){var t=e.titleErrorMessage,n=e.titleLetters,a=e.setTitleLetters;return Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{className:"title",children:["Title:",Object(G.jsx)("span",{className:"error-message",children:t})]}),Object(G.jsx)("div",{className:"textfield-title",children:Object(G.jsx)($e.a,{placeholder:"Type here ...",variant:"outlined",multiline:!0,rows:1,name:"letter",style:{width:"100%"},value:n||"",onChange:function(e){return a(e.target.value)}})})]})}function Dt(e){var t=e.bodyErrorMessage,n=e.bodyLetters,a=e.setBodyLetters;return Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{className:"body",children:["Body:",Object(G.jsx)("span",{className:"error-message",children:t})]}),Object(G.jsx)("div",{className:"textfield-body",children:Object(G.jsx)($e.a,{placeholder:"Type here ...",variant:"outlined",multiline:!0,rows:18,name:"letter",style:{width:"100%"},value:n||"",onChange:function(e){return a(e.target.value)}})})]})}function At(){var e=Object(a.useState)(""),t=Object(R.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(R.a)(s,2),i=r[0],o=r[1],d=Object(a.useState)(""),l=Object(R.a)(d,2),j=l[0],u=l[1],b=Object(a.useState)(""),h=Object(R.a)(b,2),x=h[0],O=h[1],p=Object(F.b)().currentUser.uid,m=Object(it.a)(8),v=new Date,f=v.getFullYear()+"-"+(v.getMonth()+1)+"-"+v.getDate(),g={userUid:p,todoId:m,title:n,body:i,createdAt:f},y="Please type something",w=Object(W.g)(),S=Object(T.b)();return Object(G.jsx)("div",{children:Object(G.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){if(e.preventDefault(),""===n&&""===i)u(y),O(y);else if(""===n)u(y);else if(""===i)O(y);else try{fetch("".concat(Ot,"/push_data_to_db"),{method:"POST",body:JSON.stringify(g),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200===e.message?(w.push("/dashboard"),S(C({value:!0,message:"New todo created!",severity:"success"}))):500===e.message&&(w.push("/error"),S(C({value:!0,message:"Something went wrong: backend",severity:"error"})))}))}))}catch(t){w.push("/error"),S(C({value:!0,message:"Something went wrong: frontend",severity:"error"}))}},children:[Object(G.jsx)(kt,{titleErrorMessage:j,titleLetters:n,setTitleLetters:c}),Object(G.jsx)(Dt,{bodyErrorMessage:x,bodyLetters:i,setBodyLetters:o}),Object(G.jsx)(rt,{children:"Add"})]})})}function Tt(e){var t=e.titleErrorMessage,n=e.titleLettersUpdate,a=e.setTitleLettersUpdate;return Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{className:"title",children:["Title:",Object(G.jsx)("span",{className:"error-message",children:t})]}),Object(G.jsx)("div",{className:"textfield-title",children:Object(G.jsx)($e.a,{variant:"outlined",multiline:!0,rows:1,name:"title",style:{width:"100%"},value:n,onChange:function(e){return a(e.target.value)}})})]})}function Et(e){var t=e.bodyErrorMessage,n=e.bodyLettersUpdate,a=e.setBodyLettersUpdate;return Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{className:"body",children:["Body:",Object(G.jsx)("span",{className:"error-message",children:t})]}),Object(G.jsx)("div",{className:"textfield-body",children:Object(G.jsx)($e.a,{variant:"outlined",multiline:!0,rows:18,name:"body",style:{width:"100%"},value:n,onChange:function(e){return a(e.target.value)}})})]})}function It(){var e=Object(W.h)().todoId,t=Object(T.c)(l),n=Object(a.useState)(""),c=Object(R.a)(n,2),s=c[0],r=c[1],i=Object(a.useState)(""),o=Object(R.a)(i,2),d=o[0],j=o[1];Object(a.useEffect)((function(){var n=function(){var n=Object(P.a)(I.a.mark((function n(){var a;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.find((function(t){return t.todoId===e}));case 2:(a=n.sent)&&(r(a.title),j(a.body));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[t,e]);var u=Object(a.useState)(""),b=Object(R.a)(u,2),h=b[0],x=b[1],O=Object(a.useState)(""),p=Object(R.a)(O,2),m=p[0],v=p[1],f=Object(F.b)().currentUser.uid,g=new Date,y=g.getFullYear()+"-"+(g.getMonth()+1)+"-"+g.getDate(),w={userUid:f,title:s,body:d,updatedAt:y},S="Please type something",N=Object(W.g)(),k=Object(T.b)();return Object(G.jsx)("div",{children:Object(G.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(t){if(t.preventDefault(),""===s&&""===d)x(S),v(S);else if(""===s)x(S);else if(""===d)v(S);else try{fetch("".concat(Ot,"/update/").concat(e),{method:"PUT",body:JSON.stringify(w),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200===e.message?(N.push("/dashboard"),k(C({value:!0,message:"Todo updated!",severity:"success"}))):500===e.message&&(N.push("/error"),k(C({value:!0,message:"Something went wrong: backend",severity:"error"})))}))}))}catch(n){N.push("/error"),k(C({value:!0,message:"Something went wrong: frontend",severity:"error"}))}},children:[Object(G.jsx)(Tt,{titleErrorMessage:h,titleLettersUpdate:s,setTitleLettersUpdate:r}),Object(G.jsx)(Et,{bodyErrorMessage:m,bodyLettersUpdate:d,setBodyLettersUpdate:j}),Object(G.jsx)(rt,{children:"Update"})]})})}var Pt=function(){return Object(G.jsxs)("div",{style:{textAlign:"center",margin:"100px auto 100px auto",color:"#383838"},children:[Object(G.jsx)("h1",{children:"404 - Not Found :("}),Object(G.jsx)(z.b,{to:"/signin",children:"Go Home"})]})},Ut=function(){return Object(G.jsxs)("div",{style:{textAlign:"center",margin:"100px auto 100px auto",color:"#383838"},children:[Object(G.jsx)("h1",{children:"Sorry, something went wrong :("}),Object(G.jsx)(z.b,{to:"/signin",children:"Go Home"})]})},Lt=n(289),_t=n(287),Mt=c.a.forwardRef((function(e,t){return Object(G.jsx)(_t.a,Object(B.a)({elevation:6,ref:t,variant:"filled"},e))}));function Ft(){var e=Object(T.c)(k),t=Object(T.b)(),n=function(n,a){"clickaway"!==a&&t(C({value:!1,message:"",severity:e.severity}))};return Object(G.jsx)("div",{children:Object(G.jsx)(Lt.a,{open:e.value,autoHideDuration:6e3,onClose:n,children:Object(G.jsx)(Mt,{onClose:n,severity:"".concat(e.severity),sx:{width:"100%"},children:e.message})})})}function zt(){Object(_.a)(M);var e=Object(T.b)(),t=Object(F.b)();return Object(a.useEffect)((function(){var n=Object(F.c)(t,function(){var n=Object(P.a)(I.a.mark((function n(a){var c,s,r;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=null,!a){n.next=22;break}return e(O(!0)),s=a.uid,r={uid:s},console.log("Auth OK, user logged in ".concat(s)),L()(Ot).on("newChangesInTodos",(function(t){e(d(t))})),L()(Ot).on("newChangesInProfile",(function(t){e(b(t)),e(f(!1)),console.log("Loading OK")})),console.log("Socket opened"),n.prev=11,n.next=14,fetch("".concat(Ot,"/catch-user-uid"),{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){console.log(e)}))}));case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(11),console.log(n.t0);case 19:a.getIdTokenResult().then((function(e){var n=1e3*e.claims.auth_time,a=36e5-(Date.now()-n);c=setTimeout((function(){return Object(F.e)(t).then((function(){console.log("Session timeout. Sign-out successful.")})).catch((function(e){console.log("Session timeout. Sign-out failed: ".concat(e))}))}),a)})),n.next=26;break;case 22:e(O(!1)),e(f(!1)),clearTimeout(c),c=null;case 26:case"end":return n.stop()}}),n,null,[[11,16]])})));return function(e){return n.apply(this,arguments)}}());return function(){return n((function(){}))}}),[t,e]),Object(G.jsxs)("div",{className:"App",children:[Object(G.jsx)(z.a,{children:Object(G.jsxs)(W.d,{children:[Object(G.jsx)(Ve,{exact:!0,path:"/signup",component:ot}),Object(G.jsx)(Ve,{exact:!0,path:"/signin",component:jt}),Object(G.jsx)(Ge,{exact:!0,path:"/dashboard",component:ft}),Object(G.jsx)(Ge,{exact:!0,path:"/account",component:Ct}),Object(G.jsx)(Ge,{exact:!0,path:"/create",component:At}),Object(G.jsx)(Ge,{exact:!0,path:"/update/:todoId",component:It}),Object(G.jsx)(W.b,{exact:!0,path:"/error",component:Ut}),Object(G.jsx)(W.b,{component:Pt})]})}),Object(G.jsx)(Ft,{})]})}r.a.render(Object(G.jsx)(c.a.StrictMode,{children:Object(G.jsx)(T.a,{store:A,children:Object(G.jsx)(zt,{})})}),document.getElementById("root"))}},[[230,1,2]]]);
//# sourceMappingURL=main.b0e9057e.chunk.js.map