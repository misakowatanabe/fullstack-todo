(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{193:function(e,t,n){},198:function(e,t,n){},231:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),r=n(62),c=n.n(r),i=(n(193),n(43)),o=Object(i.b)({name:"todoData",initialState:{value:[{title:"",body:""}]},reducers:{updateTodoData:function(e,t){e.value=t.payload}}}),d=o.actions.updateTodoData,l=function(e){return e.todoData.value},j=o.reducer,u=Object(i.b)({name:"profileData",initialState:{value:[{name:null,email:null,userUid:null}]},reducers:{updateProfileData:function(e,t){e.value=t.payload[0]}}}),b=u.actions.updateProfileData,h=function(e){return e.profileData.value},x=u.reducer,O=Object(i.b)({name:"userAuthData",initialState:{value:!1},reducers:{updateUserAuthData:function(e,t){e.value=t.payload}}}),p=O.actions.updateUserAuthData,m=function(e){return e.userAuthData.value},f=O.reducer,g=Object(i.b)({name:"isLoadingData",initialState:{value:!0},reducers:{updateIsLoadingData:function(e,t){e.value=t.payload}}}),v=g.actions.updateIsLoadingData,y=function(e){return e.isLoadingData.value},w=g.reducer,S=Object(i.b)({name:"userData",initialState:{value:!0},reducers:{updateUserData:function(e,t){e.value=t.payload}}}),N=(S.actions.updateUserData,S.reducer),k=Object(i.b)({name:"snackbar",initialState:{value:!1,message:"",severity:"success"},reducers:{updateSnackbar:function(e,t){e.value=t.payload.value,e.message=t.payload.message,e.severity=t.payload.severity}}}),C=k.actions.updateSnackbar,E=function(e){return e.snackbar},D=k.reducer,U=Object(i.a)({reducer:{todoData:j,profileData:x,userAuthData:f,isLoadingData:w,userData:N,snackbar:D}}),A=n(23),L=n(1),T=n.n(L),I=n(4),M=(n(198),n(132)),P=n.n(M),_=n(98),F={apiKey:"AIzaSyDjriWqAwlwma04rJXXfZW8_3RaRQHzs8w",authDomain:"succulent-bfbf4.firebaseapp.com",projectId:"succulent-bfbf4",storageBucket:"succulent-bfbf4.appspot.com",messagingSenderId:"372415741597",appId:"1:372415741597:web:dfa6f76a475b3ca6855e74",measurementId:"G-YX5RDN8G4W"};Object(_.a)(F);var R=n(25),z=n(27),W=n(30),B=n(64),J=n(11),Y=n(109),q=n(297),G=n(0);function V(e){var t=e.children;return Object(G.jsx)(q.a,{sx:{margin:{xs:"10px 0px",sm:"10px"},padding:"10px 20px",height:"200px",width:{xs:"100%",sm:"350px"},minWidth:{sm:"292px"},position:"relative"},children:t})}var H=n(277);function K(e){var t=e.children;return Object(G.jsx)(H.a,{sx:{display:"flex",flexWrap:"wrap",justifyContent:{xs:"center",sm:"flex-start"}},children:t})}var X=n(293),Q=n(298),Z=n(102),$=n.n(Z),ee=n(103),te=n.n(ee),ne=n(104),ae=n.n(ne);function se(){return Object(G.jsx)(K,{children:[1,2].map((function(e){return Object(G.jsxs)(V,{children:[Object(G.jsx)(Q.a,{className:"preview-edit-delete-button",style:{position:"absolute",right:"75px"},children:Object(G.jsx)($.a,{})}),Object(G.jsx)(Q.a,{className:"preview-edit-delete-button",style:{position:"absolute",right:"42px"},children:Object(G.jsx)(te.a,{})}),Object(G.jsx)(Q.a,{className:"preview-edit-delete-button",style:{position:"absolute",right:"10px"},children:Object(G.jsx)(ae.a,{})}),Object(G.jsx)(X.a,{height:30,width:"60%"}),Object(G.jsx)(X.a,{height:20,width:"100%",style:{marginTop:17}}),Object(G.jsx)(X.a,{height:20,width:"100%"}),Object(G.jsx)(X.a,{height:20,width:"50%"}),Object(G.jsx)(X.a,{height:20,width:"40%",style:{marginTop:45}})]},e)}))})}var re=n(292);function ce(e){var t=e.children;return Object(G.jsx)("div",{children:Object(G.jsx)(q.a,{sx:{padding:{xs:"20px 20px",sm:"30px 30px"},height:"auto",position:"relative"},children:Object(G.jsx)(H.a,{children:Object(G.jsx)(re.a,{container:!0,sx:{alignItems:"center",justifyContent:"space-around"},children:t})})})})}var ie=n(291);function oe(e){var t=e.children,n=e.handleClickOpen;return Object(G.jsx)(q.a,{sx:{marginTop:"20px",padding:{xs:"20px 20px",sm:"40px 40px"},height:"auto",position:"relative"},children:Object(G.jsx)(ie.a,{button:!0,onClick:n,style:{padding:"10px 15px"},children:t})})}function de(){return Object(G.jsxs)("div",{children:[Object(G.jsxs)(ce,{children:[Object(G.jsx)(re.a,{item:!0,sx:{padding:"10px"},children:Object(G.jsx)(X.a,{variant:"circular",width:200,height:200})}),Object(G.jsx)(re.a,{item:!0,sx:{padding:"10px"},children:Object(G.jsx)("div",{children:Object(G.jsxs)("div",{style:{minWidth:"200px"},children:[Object(G.jsx)(X.a,{height:24,width:"100%"}),Object(G.jsx)(X.a,{height:24,width:"100%"}),Object(G.jsx)(X.a,{height:24,width:"80%"})]})})})]}),Object(G.jsx)(oe,{children:Object(G.jsx)("div",{style:{minWidth:"200px",padding:"4px 0px"},children:Object(G.jsx)(X.a,{height:25,width:"100%"})})})]})}var le=n(299);function je(){return Object(G.jsx)("div",{style:{width:"100%",textAlign:"center",margin:"100px auto"},children:Object(G.jsx)(le.a,{})})}var ue=n(80),be=n.n(ue),he=n(294);function xe(){var e=Object(A.c)(h).name,t=function(){return void 0===e?Object(G.jsx)(X.a,{variant:"circular",width:100,height:100}):Object(G.jsx)(he.a,{alt:"Avatar",sx:{width:100,height:100},children:Object(G.jsx)(be.a,{style:{fontSize:"70px"}})})};return Object(G.jsx)(ie.a,{style:{padding:"30px 0px 0px 0px",display:"inline-flex",justifyContent:"center"},children:Object(G.jsx)(t,{})})}var Oe=n(300);function pe(){var e=Object(A.c)(h).name,t=function(){return void 0===e?Object(G.jsx)(X.a,{variant:"text",height:20,width:"70%",style:{textAlign:"center",margin:"-2px auto 0px auto"}}):Object(G.jsx)("div",{children:e})};return Object(G.jsx)(ie.a,{style:{padding:"10px 20px",textAlign:"center"},children:Object(G.jsx)(Oe.a,{primary:Object(G.jsx)(t,{})})})}var me=n(301),fe=n(164),ge=n.n(fe);function ve(){var e=[{text:"Create Todo",link:"/create",icon:Object(G.jsx)(ge.a,{})},{text:"Account",link:"/account",icon:Object(G.jsx)(be.a,{})}];return Object(G.jsx)("div",{children:e.map((function(e){var t=e.text,n=e.link,a=e.icon;return Object(G.jsx)(z.b,{to:"".concat(n),children:Object(G.jsxs)(ie.a,{button:!0,style:{padding:"10px 30px"},children:[Object(G.jsx)(me.a,{children:a}),Object(G.jsx)(Oe.a,{primary:t})]})},"".concat(t))}))})}function ye(){var e=Object(R.b)(),t=Object(A.b)();return Object(G.jsx)(Q.a,{onClick:function(){t(d([{title:"",body:""}])),t(b([{firstName:"",lastName:""}])),Object(R.e)(e).then((function(){t(C({value:!0,message:"Sign out successful!",severity:"success"}))})).catch((function(e){t(C({value:!0,message:"Something went wrong with sign out",severity:"error"}))}))},autoFocus:!0,className:"signout-button",children:"Sign out"})}var we=n(302),Se=n(306),Ne=n(304),ke=n(305),Ce=n(303),Ee=n(166),De=n.n(Ee);function Ue(){var e=Object(a.useState)(!1),t=Object(J.a)(e,2),n=t[0],s=t[1],r=function(){s(!1)};return Object(G.jsxs)("div",{children:[Object(G.jsxs)(ie.a,{button:!0,onClick:function(){s(!0)},style:{padding:"10px 30px"},children:[Object(G.jsx)(me.a,{children:Object(G.jsx)(De.a,{})}),Object(G.jsx)(Oe.a,{primary:"Sign Out"})]}),Object(G.jsxs)(we.a,{open:n,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(G.jsx)(Ce.a,{id:"alert-dialog-title",children:"Confirm sign out"}),Object(G.jsx)(Ne.a,{children:Object(G.jsx)(ke.a,{id:"alert-dialog-description",children:"Are you sure you sign out?"})}),Object(G.jsxs)(Se.a,{children:[Object(G.jsx)(Q.a,{onClick:r,children:"Cancel"}),Object(G.jsx)(ye,{})]})]})]})}var Ae=n(311),Le=n(307),Te=n(282),Ie=n(310),Me=n(312),Pe=n(167),_e=n.n(Pe);function Fe(e){var t=e.handleDrawerToggle;return Object(G.jsxs)("div",{children:[Object(G.jsx)(Te.a,{}),Object(G.jsx)(Ae.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},children:Object(G.jsxs)(Le.a,{children:[Object(G.jsx)(Me.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:t,sx:{mr:2,display:{sm:"none"}},children:Object(G.jsx)(_e.a,{})}),Object(G.jsx)(z.b,{to:"/dashboard",children:Object(G.jsx)(Ie.a,{variant:"h6",noWrap:!0,component:"div",style:{color:"#ffffff"},children:"Todo List"})})]})})]})}var Re=n(295);function ze(e){var t=e.mobileOpen,n=e.handleDrawerToggle,a=e.drawer,s=e.props.window,r=void 0!==s?function(){return s().document.body}:void 0;return Object(G.jsxs)("div",{children:[Object(G.jsx)(Re.a,{container:r,variant:"temporary",open:t,onClose:n,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},children:a}),Object(G.jsx)(Re.a,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}},open:!0,children:a})]})}var We=n(283),Be=n(308),Je=n(309);function Ye(e){var t=Object(a.useState)(!1),n=Object(J.a)(t,2),s=n[0],r=n[1],c=function(){r(!s)},i=Object(G.jsxs)("div",{children:[Object(G.jsx)(Le.a,{}),Object(G.jsx)(Be.a,{}),Object(G.jsxs)(Je.a,{children:[Object(G.jsx)(xe,{}),Object(G.jsx)(pe,{})]}),Object(G.jsx)(Be.a,{}),Object(G.jsxs)(Je.a,{children:[Object(G.jsx)(ve,{}),Object(G.jsx)(Ue,{})]})]});return Object(G.jsxs)(We.a,{sx:{display:"flex"},children:[Object(G.jsx)(Fe,{handleDrawerToggle:c}),Object(G.jsx)(We.a,{component:"nav",sx:{width:{sm:240},flexShrink:{sm:0}},"aria-label":"mailbox folders",children:Object(G.jsx)(ze,{mobileOpen:s,handleDrawerToggle:c,drawer:i,props:e})}),Object(G.jsxs)(We.a,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(240,"px)")}},children:[Object(G.jsx)(Le.a,{}),Object(G.jsx)("div",{children:e.children})]})]})}var qe=["component"],Ge=function(e){var t,n=e.component,s=Object(Y.a)(e,qe),r=Object(A.c)(m),c=Object(A.c)(y),i=Object(A.c)(l),o=Object(a.useState)(""),d=Object(J.a)(o,2),j=d[0],u=d[1];return Object(a.useEffect)((function(){i[0]&&u(i[0].title)}),[i]),"/dashboard"===s.path?t=Object(G.jsx)(se,{}):"/account"===s.path?t=Object(G.jsx)(de,{}):("/create"===s.path||"/update/:todoId"===s.path)&&(t=Object(G.jsx)(je,{})),Object(G.jsx)(Ye,{children:Object(G.jsx)(W.b,Object(B.a)(Object(B.a)({},s),{},{render:function(e){return c||r&&""===j?t:r?Object(G.jsx)(n,Object(B.a)({},e)):Object(G.jsx)(W.a,{to:"/signin"})}}))})},Ve=["component"],He=function(e){var t=e.component,n=Object(Y.a)(e,Ve),a=Object(A.c)(m);return Object(G.jsx)(W.b,Object(B.a)(Object(B.a)({},n),{},{render:function(e){return a?Object(G.jsx)(W.a,{to:"/dashboard"}):Object(G.jsx)(t,Object(B.a)({},e))}}))},Ke=n(74),Xe=n(168),Qe=n.n(Xe);function Ze(){return Object(G.jsx)("div",{style:{textAlign:"center",margin:"20px auto"},children:Object(G.jsx)(Qe.a,{style:{fontSize:"50px",color:"#1976d2"}})})}function $e(e){var t=e.children,n=e.title;return Object(G.jsxs)("div",{className:"Login",children:[Object(G.jsx)(Ze,{}),Object(G.jsx)("div",{className:"login-title",children:n}),Object(G.jsx)(H.a,{sx:{display:"flex",justifyContent:"center"},children:t})]})}var et=n(286);function tt(e){var t=e.name,n=e.setName;return Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"title",children:"User Name"}),Object(G.jsx)("div",{className:"textfield-title",children:Object(G.jsx)(et.a,{autoFocus:!0,variant:"outlined",name:"name",style:{width:"100%"},value:t,onChange:function(e){return n(e.target.value)}})})]})}function nt(e){var t=e.email,n=e.setEmail;return Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"body",children:"Email"}),Object(G.jsx)("div",{className:"textfield-title",children:Object(G.jsx)(et.a,{variant:"outlined",name:"email",style:{width:"100%"},value:t,onChange:function(e){return n(e.target.value)}})})]})}function at(e){var t=e.passwordShown,n=e.setPasswordShown;return Object(G.jsx)("div",{onClick:function(){n(!t)},type:"button",className:"password-toggle-button",children:"Show Password"})}function st(e){var t=e.password,n=e.setPassword,s=e.confirmPassword,r=e.setConfirmPassword,c=Object(a.useState)(!1),i=Object(J.a)(c,2),o=i[0],d=i[1],l=Object(a.useState)(!1),j=Object(J.a)(l,2),u=j[0],b=j[1];return Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{className:"password-text-container",children:[Object(G.jsx)("div",{children:"Password"}),Object(G.jsx)(at,{passwordShown:o,setPasswordShown:d})]}),Object(G.jsx)("div",{className:"textfield-title",children:Object(G.jsx)(et.a,{variant:"outlined",name:"password",type:o?"text":"password",style:{width:"100%"},value:t,onChange:function(e){return n(e.target.value)}})}),Object(G.jsxs)("div",{className:"password-text-container",children:[Object(G.jsx)("div",{children:"Confirm Password"}),Object(G.jsx)(at,{passwordShown:u,setPasswordShown:b})]}),Object(G.jsx)("div",{className:"textfield-title",children:Object(G.jsx)(et.a,{variant:"outlined",name:"confirmPassword",type:u?"text":"password",style:{width:"100%"},value:s,onChange:function(e){return r(e.target.value)}})})]})}var rt=n(107),ct=n.n(rt);function it(e){var t=e.children,n=e.disabled;return Object(G.jsx)("div",{style:{margin:"0 auto",textAlign:"center"},children:Object(G.jsxs)(Q.a,{type:"submit",variant:"contained",disabled:n,style:n?{padding:"10px 14px 10px 25px",borderRadius:"25px"}:{backgroundColor:"#1976d2",padding:"10px 14px 10px 25px",borderRadius:"25px"},children:[t,Object(G.jsx)(ct.a,{})]})})}var ot=n(110);function dt(){var e=Object(a.useState)(""),t=Object(J.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),c=Object(J.a)(r,2),i=c[0],o=c[1],d=Object(a.useState)(""),l=Object(J.a)(d,2),j=l[0],u=l[1],b=Object(a.useState)(""),h=Object(J.a)(b,2),x=h[0],O=h[1],p=Object(a.useState)(null),m=Object(J.a)(p,2),f=m[0],g=m[1];var v=Object(ot.a)(8),y=new Date,w=y.getFullYear()+"-"+(y.getMonth()+1)+"-"+y.getDate(),S=Object(R.b)(),N=Object(Ke.b)(),k=Object(W.g)();return Object(G.jsx)($e,{title:"Sign Up",children:Object(G.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),j===x?Object(R.a)(S,i,j).then(function(){var e=Object(I.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.user,console.log("user ".concat(a.uid," is created")),e.next=4,Object(R.g)(S.currentUser,{displayName:n,uid:a.uid}).catch((function(e){k.push("/error")}));case 4:return e.prev=4,e.next=7,Object(Ke.c)(Object(Ke.a)(N,a.uid,"userInfo"),{userUid:a.uid,name:n,email:a.email});case 7:return e.next=9,Object(Ke.c)(Object(Ke.a)(N,a.uid,"todos","active",v),{todoId:v,title:"Test",body:"This is where you can write contents.",createdAt:w});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),k.push("/error");case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){var t=e.message;g("Firebase: Error (auth/email-already-in-use)."===t?"This email adress is already in use.":"Firebase: Password should be at least 6 characters (auth/weak-password)."===t?"Password should be at least 6 characters.":"Firebase: Error (auth/network-request-failed)."===t?"Something went wrong with network. Please check your internet connection.":"".concat(t," Please contact _______."))})):g("Your password and confirmation password do not match.")},children:[Object(G.jsx)("div",{className:"register-error-message",children:f}),Object(G.jsx)(tt,{name:n,setName:s}),Object(G.jsx)(nt,{email:i,setEmail:o}),Object(G.jsx)(st,{password:j,setPassword:u,confirmPassword:x,setConfirmPassword:O}),Object(G.jsx)("div",{className:"login-button",children:Object(G.jsx)(it,{type:"submit",disabled:!(n.length>0&&i.length>0&&j.length>0),children:"Signup"})}),Object(G.jsx)(z.b,{to:"/signin",children:Object(G.jsx)("div",{className:"toggle-signin-signup",children:"Already have an account? Sign in"})})]})})}function lt(e){var t=e.email,n=e.setEmail;return Object(G.jsxs)("div",{children:[Object(G.jsx)("div",{className:"title",children:"Email"}),Object(G.jsx)("div",{className:"textfield-title",children:Object(G.jsx)(et.a,{autoFocus:!0,variant:"outlined",name:"email",style:{width:"100%"},value:t,onChange:function(e){return n(e.target.value)}})})]})}function jt(e){var t=e.password,n=e.setPassword,s=Object(a.useState)(!1),r=Object(J.a)(s,2),c=r[0],i=r[1];return Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{className:"password-text-container",children:[Object(G.jsx)("div",{children:"Password"}),Object(G.jsx)(at,{passwordShown:c,setPasswordShown:i})]}),Object(G.jsx)("div",{className:"textfield-title",children:Object(G.jsx)(et.a,{variant:"outlined",name:"password",type:c?"text":"password",style:{width:"100%"},value:t,onChange:function(e){return n(e.target.value)}})})]})}function ut(){var e=Object(a.useState)(""),t=Object(J.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),c=Object(J.a)(r,2),i=c[0],o=c[1],d=Object(a.useState)(null),l=Object(J.a)(d,2),j=l[0],u=l[1];var b=Object(R.b)();function h(){return(h=Object(I.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),Object(R.d)(b,n,i).then((function(e){var t=e.user;console.log(t)})).catch((function(e){var t=e.message;u("Firebase: Error (auth/user-not-found)."===t?"User not found. Please check your email adress.":"Firebase: Error (auth/wrong-password)."===t?"Password seems wrong, please check it again.":"Firebase: Error (auth/network-request-failed)."===t?"Something went wrong with network. Please check your internet connection.":"".concat(t," Please contact _______."))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(G.jsx)($e,{title:"Sign In",children:Object(G.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){return h.apply(this,arguments)},children:[Object(G.jsx)("div",{className:"register-error-message",children:j}),Object(G.jsx)(lt,{email:n,setEmail:s}),Object(G.jsx)(jt,{password:i,setPassword:o}),Object(G.jsx)("div",{className:"login-button",children:Object(G.jsx)(it,{type:"submit",disabled:!(n.length>0&&i.length>0),children:"Signin"})}),Object(G.jsx)(z.b,{to:"/signup",children:Object(G.jsx)("div",{className:"toggle-signin-signup",children:"Don't have an account? Sign up"})})]})})}var bt=n(285);function ht(e){var t=e.updatedAt,n=Object(bt.a)("(max-width:599px)");return t?Object(G.jsxs)(Ie.a,{className:"updated-dialog",component:n?"div":"span",sx:{paddingLeft:{sm:"15px"}},children:["Updated: ",t]}):null}function xt(e){var t=e.todoId,n=e.title,s=e.body,r=e.createdAt,c=e.updatedAt,i=Object(a.useState)(!1),o=Object(J.a)(i,2),d=o[0],l=o[1],j=function(){l(!1)},u=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(d){var e=u.current;null!==e&&e.focus()}}),[d]),Object(G.jsxs)("div",{children:[Object(G.jsx)(Q.a,{onClick:function(){l(!0)},className:"preview-edit-delete-button",style:{position:"absolute",right:"75px"},children:Object(G.jsx)($.a,{})}),Object(G.jsxs)(we.a,{open:d,onClose:j,scroll:"paper",fullWidth:!0,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(G.jsx)(Ce.a,{className:"title-dialog",children:n}),Object(G.jsx)(Ne.a,{dividers:!0,children:Object(G.jsxs)(ke.a,{className:"body-dialog",ref:u,tabIndex:-1,component:"div",children:[s,Object(G.jsxs)("div",{className:"created-dialog",children:["Created: ",r,Object(G.jsx)(ht,{updatedAt:c})]})]})}),Object(G.jsxs)(Se.a,{children:[Object(G.jsx)(z.b,{to:"/update/".concat(t),children:Object(G.jsx)(Q.a,{onClick:j,children:"Modify"})}),Object(G.jsx)(Q.a,{onClick:j,children:"Close"})]})]})]})}function Ot(e){var t=e.todoId;return Object(G.jsx)(z.b,{to:"/update/".concat(t),children:Object(G.jsx)(Q.a,{className:"preview-edit-delete-button",style:{position:"absolute",right:"42px"},children:Object(G.jsx)(te.a,{})})})}var pt="https://fullstack-todo-backend-misako.herokuapp.com";function mt(e){var t=e.todoId,n=e.handleClose,a=Object(R.b)().currentUser.uid,s=Object(W.g)(),r=Object(A.b)();return Object(G.jsx)(Q.a,{onClick:function(){return function(e){try{n(),fetch("".concat(pt,"/delete/").concat(a,"/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200===e.message?(n(),r(C({value:!0,message:"Todo deleted!",severity:"success"}))):500===e.message&&(n(),s.push("/error"),r(C({value:!0,message:"Something went wrong: backend",severity:"error"})))}))}))}catch(t){s.push("/error"),r(C({value:!0,message:"Something went wrong: frontend",severity:"error"}))}}(t)},autoFocus:!0,className:"delete-button",children:"Delete"})}function ft(e){var t=e.todoId,n=e.title,s=Object(a.useState)(!1),r=Object(J.a)(s,2),c=r[0],i=r[1],o=function(){i(!1)};return Object(G.jsxs)("div",{children:[Object(G.jsx)(Q.a,{onClick:function(){i(!0)},className:"preview-edit-delete-button",style:{position:"absolute",right:"10px"},children:Object(G.jsx)(ae.a,{})}),Object(G.jsxs)(we.a,{open:c,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(G.jsx)(Ce.a,{id:"alert-dialog-title",children:"Confirm delete"}),Object(G.jsx)(Ne.a,{children:Object(G.jsxs)(ke.a,{id:"alert-dialog-description",children:['Are you sure you want to delete "',n,'"?']})}),Object(G.jsxs)(Se.a,{children:[Object(G.jsx)(Q.a,{onClick:o,children:"Cancel"}),Object(G.jsx)(mt,{todoId:t,setOpen:i,handleClose:o})]})]})]})}function gt(e){var t=e.body,n=e.createdAt,a=e.updatedAt;return Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{className:"todo-createdAt",children:["Create: ",n,a&&Object(G.jsxs)("span",{className:"todo-updatedAt",children:["Update: ",a]})]}),Object(G.jsx)("div",{className:"todo-body",children:t})]})}function vt(){var e=Object(A.c)(l);return Object(G.jsx)(K,{children:e.map((function(e,t){return Object(G.jsxs)(V,{children:[Object(G.jsxs)(re.a,{container:!0,children:[Object(G.jsx)(re.a,{item:!0,xs:7,children:Object(G.jsx)("div",{className:"todo-title",children:e.title})}),Object(G.jsxs)(re.a,{item:!0,children:[Object(G.jsx)(xt,{todoId:e.todoId,title:e.title,body:e.body,createdAt:e.createdAt,updatedAt:e.updatedAt}),Object(G.jsx)(Ot,{todoId:e.todoId}),Object(G.jsx)(ft,{todoId:e.todoId,title:e.title})]})]}),Object(G.jsx)(gt,{body:e.body,createdAt:e.createdAt,updatedAt:e.updatedAt})]},t)}))})}function yt(e){var t=e.editMode,n=e.displayName,a=e.email;return t?null:Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{children:["Name: ",n]}),Object(G.jsxs)("div",{children:["Email: ",a]})]})}function wt(e){var t=e.nameLettersUpdate,n=e.setNameLettersUpdate,a=e.nameErrorMessage;return Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{className:"title",children:["Name:",Object(G.jsx)("span",{className:"error-message",children:a})]}),Object(G.jsx)("div",{className:"textfield-title",children:Object(G.jsx)(et.a,{variant:"outlined",multiline:!0,rows:1,name:"title",style:{width:"100%"},value:t,onChange:function(e){return n(e.target.value)}})})]})}function St(e){var t=e.emailErrorMessage,n=e.emailLettersUpdate,a=e.setEmailLettersUpdate,s=e.setAuthEmailStatus,r=e.setEmailErrorMessage;return Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{className:"body",children:["Email:",Object(G.jsx)("span",{className:"error-message",children:t})]}),Object(G.jsx)("div",{className:"textfield-body",children:Object(G.jsx)(et.a,{variant:"outlined",multiline:!0,rows:1,name:"body",style:{width:"100%"},value:n,onChange:function(e){a(e.target.value),s(!1),r("")}})})]})}function Nt(e){var t=e.children,n=e.disabled;return Object(G.jsx)("div",{style:{margin:"10px 0px 0px 0px"},children:Object(G.jsxs)(Q.a,{type:"submit",variant:"contained",disabled:n,style:n?{padding:"10px 14px 10px 25px",borderRadius:"25px"}:{backgroundColor:"#1976d2",padding:"10px 14px 10px 25px",borderRadius:"25px"},children:[t,Object(G.jsx)(ct.a,{})]})})}function kt(e){var t=e.editMode,n=e.setEditMode,s=e.nameLettersUpdate,r=e.setNameLettersUpdate,c=e.emailLettersUpdate,i=e.setEmailLettersUpdate,o=e.nameErrorMessage,d=e.setNameErrorMessage,l=e.emailErrorMessage,j=e.setEmailErrorMessage,u="Required",b=Object(R.b)(),h=b.currentUser.uid,x=Object(W.g)(),O=Object(A.b)();function p(){try{fetch("".concat(pt,"/update-userInfo-email/").concat(h),{method:"PUT",body:JSON.stringify({email:c}),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200===e.message||500===e.message&&(x.push("/error"),O(C({value:!0,message:"Something went wrong with updating userInfo email: backend",severity:"error"})))}))}))}catch(e){x.push("/error"),O(C({value:!0,message:"Something went wrong with updating userInfo email: frontend",severity:"error"}))}}var m=function(){Object(R.g)(b.currentUser,{displayName:s}).then((function(){!function(){try{fetch("".concat(pt,"/update-userInfo-name/").concat(h),{method:"PUT",body:JSON.stringify({name:s}),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200===e.message?O(C({value:!0,message:"Updated profile!",severity:"success"})):500===e.message&&(x.push("/error"),O(C({value:!0,message:"Something went wrong with updating userInfo name: backend",severity:"error"})))}))}))}catch(e){x.push("/error"),O(C({value:!0,message:"Something went wrong with updating userInfo name: frontend",severity:"error"}))}}()})).catch((function(e){d(e.code)}))},f=Object(a.useState)(!1),g=Object(J.a)(f,2),v=g[0],y=g[1];function w(){return S.apply(this,arguments)}function S(){return S=Object(I.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.f)(b.currentUser,c).then((function(){p(),m()})).catch(function(){var e=Object(I.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t.code);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:y(!0);case 3:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}Object(a.useEffect)((function(){"auth/invalid-email"===l&&v||"auth/requires-recent-login"===l&&v?n(!0):""===l&&v&&n(!1)}),[l,n,v]);var N=function(){var e=Object(I.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),y(!1),j(""),""!==s||""!==c){e.next=8;break}d(u),j(u),e.next=18;break;case 8:if(""!==s){e.next=12;break}d(u),e.next=18;break;case 12:if(""!==c){e.next=16;break}j(u),e.next=18;break;case 16:return e.next=18,w();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return!1===t?null:!0===t?Object(G.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:N,children:[Object(G.jsx)(wt,{nameLettersUpdate:s,setNameLettersUpdate:r,nameErrorMessage:o}),Object(G.jsx)(St,{emailErrorMessage:l,emailLettersUpdate:c,setEmailLettersUpdate:i,setAuthEmailStatus:y,setEmailErrorMessage:j}),Object(G.jsx)(Nt,{children:"Update"})]}):void 0}var Ct=n(169),Et=n.n(Ct);function Dt(e){var t=e.children,n=e.disabled,a=e.onClick;return Object(G.jsx)("div",{style:{margin:"20px 0px 0px 0px"},children:Object(G.jsxs)(Q.a,{onClick:a,variant:"contained",disabled:n,style:n?{padding:"10px 14px 10px 25px",borderRadius:"25px"}:{backgroundColor:"#9c9c9c",padding:"10px 14px 10px 25px",borderRadius:"25px",boxShadow:"none"},children:[t,Object(G.jsx)(Et.a,{sx:{fontSize:"20px",margin:"0px 5px 0px 11px"}})]})})}function Ut(){var e=Object(A.c)(h),t=e.name,n=e.email,s=Object(a.useState)(""),r=Object(J.a)(s,2),c=r[0],i=r[1],o=Object(a.useState)(""),d=Object(J.a)(o,2),l=d[0],j=d[1],u=Object(a.useState)(""),b=Object(J.a)(u,2),x=b[0],O=b[1],p=Object(a.useState)(""),m=Object(J.a)(p,2),f=m[0],g=m[1],v=Object(a.useState)(!1),y=Object(J.a)(v,2),w=y[0],S=y[1];return Object(a.useEffect)((function(){!1===w?(i(""),j(""),O(""),g("")):(i(t),j(n))}),[t,n,w]),Object(G.jsx)("div",{children:Object(G.jsxs)(ce,{children:[Object(G.jsx)(re.a,{item:!0,sx:{margin:"10px"},children:Object(G.jsx)(he.a,{sx:{width:200,height:200},children:Object(G.jsx)(be.a,{style:{fontSize:"140px"}})})}),Object(G.jsx)(re.a,{item:!0,sx:{margin:"10px"},children:Object(G.jsxs)("div",{children:[Object(G.jsx)(yt,{editMode:w,displayName:t,email:n}),Object(G.jsx)(kt,{editMode:w,setEditMode:S,nameLettersUpdate:c,setNameLettersUpdate:i,emailLettersUpdate:l,setEmailLettersUpdate:j,nameErrorMessage:x,setNameErrorMessage:O,emailErrorMessage:f,setEmailErrorMessage:g}),Object(G.jsx)(Dt,{onClick:function(){S(!w)},children:"Edit"})]})})]})})}function At(){var e=Object(R.b)(),t=Object(W.g)(),n=Object(A.b)();return Object(G.jsx)(Q.a,{onClick:function(){var a=e.currentUser.uid;try{fetch("".concat(pt,"/deleteAccount/").concat(a),{method:"DELETE",headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200===e.message?n(C({value:!0,message:"Account deleted!",severity:"success"})):500===e.message&&(t.push("/error"),n(C({value:!0,message:"Something went wrong with deleting account: backend",severity:"error"})))}))}))}catch(s){t.push("/error"),n(C({value:!0,message:"Something went wrong with deleting account: frontend",severity:"error"}))}try{fetch("".concat(pt,"/deleteCollection/").concat(a),{method:"DELETE",headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200!==e.message&&500===e.message&&(t.push("/error"),n(C({value:!0,message:"Something went wrong with deleting your todo data: backend",severity:"error"})))}))}))}catch(s){t.push("/error"),n(C({value:!0,message:"Something went wrong with deleting your todo data: frontend",severity:"error"}))}n(d([{title:"",body:""}])),n(b([{firstName:"",lastName:""}])),Object(R.e)(e).then((function(){console.log("Sign-out successful.")})).catch((function(e){console.log("Sign-out failed: ".concat(e))}))},autoFocus:!0,className:"signout-button",children:"Delete account"})}var Lt=n(170),Tt=n.n(Lt);function It(){var e=Object(a.useState)(!1),t=Object(J.a)(e,2),n=t[0],s=t[1],r=function(){s(!1)};return Object(G.jsxs)("div",{children:[Object(G.jsxs)(oe,{handleClickOpen:function(){s(!0)},children:[Object(G.jsx)(me.a,{children:Object(G.jsx)(Tt.a,{})}),Object(G.jsx)(Oe.a,{primary:"Delete Account"})]}),Object(G.jsxs)(we.a,{open:n,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(G.jsx)(Ce.a,{id:"alert-dialog-title",children:"Confirm delete account"}),Object(G.jsx)(Ne.a,{children:Object(G.jsxs)(ke.a,{id:"alert-dialog-description",children:["Are you sure you delete your account? ",Object(G.jsx)("br",{}),"Your todos will be deleted once you delete your account."]})}),Object(G.jsxs)(Se.a,{children:[Object(G.jsx)(Q.a,{onClick:r,children:"Cancel"}),Object(G.jsx)(At,{})]})]})]})}function Mt(){return Object(G.jsxs)("div",{children:[Object(G.jsx)(Ut,{}),Object(G.jsx)(It,{})]})}function Pt(e){var t=e.titleErrorMessage,n=e.titleLetters,a=e.setTitleLetters;return Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{className:"title",children:["Title:",Object(G.jsx)("span",{className:"error-message",children:t})]}),Object(G.jsx)("div",{className:"textfield-title",children:Object(G.jsx)(et.a,{placeholder:"Type here ...",variant:"outlined",multiline:!0,rows:1,name:"letter",style:{width:"100%"},value:n||"",onChange:function(e){return a(e.target.value)}})})]})}function _t(e){var t=e.bodyErrorMessage,n=e.bodyLetters,a=e.setBodyLetters;return Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{className:"body",children:["Body:",Object(G.jsx)("span",{className:"error-message",children:t})]}),Object(G.jsx)("div",{className:"textfield-body",children:Object(G.jsx)(et.a,{placeholder:"Type here ...",variant:"outlined",multiline:!0,rows:18,name:"letter",style:{width:"100%"},value:n||"",onChange:function(e){return a(e.target.value)}})})]})}function Ft(){var e=Object(a.useState)(""),t=Object(J.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),c=Object(J.a)(r,2),i=c[0],o=c[1],d=Object(a.useState)(""),l=Object(J.a)(d,2),j=l[0],u=l[1],b=Object(a.useState)(""),h=Object(J.a)(b,2),x=h[0],O=h[1],p=Object(R.b)().currentUser.uid,m=Object(ot.a)(8),f=new Date,g=f.getFullYear()+"-"+(f.getMonth()+1)+"-"+f.getDate(),v={userUid:p,todoId:m,title:n,body:i,createdAt:g},y="Please type something",w=Object(W.g)(),S=Object(A.b)();return Object(G.jsx)("div",{children:Object(G.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){if(e.preventDefault(),""===n&&""===i)u(y),O(y);else if(""===n)u(y);else if(""===i)O(y);else try{fetch("".concat(pt,"/push_data_to_db"),{method:"POST",body:JSON.stringify(v),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200===e.message?(w.push("/dashboard"),S(C({value:!0,message:"New todo created!",severity:"success"}))):500===e.message&&(w.push("/error"),S(C({value:!0,message:"Something went wrong: backend",severity:"error"})))}))}))}catch(t){w.push("/error"),S(C({value:!0,message:"Something went wrong: frontend",severity:"error"}))}},children:[Object(G.jsx)(Pt,{titleErrorMessage:j,titleLetters:n,setTitleLetters:s}),Object(G.jsx)(_t,{bodyErrorMessage:x,bodyLetters:i,setBodyLetters:o}),Object(G.jsx)(it,{children:"Add"})]})})}function Rt(e){var t=e.titleErrorMessage,n=e.titleLettersUpdate,a=e.setTitleLettersUpdate;return Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{className:"title",children:["Title:",Object(G.jsx)("span",{className:"error-message",children:t})]}),Object(G.jsx)("div",{className:"textfield-title",children:Object(G.jsx)(et.a,{variant:"outlined",multiline:!0,rows:1,name:"title",style:{width:"100%"},value:n,onChange:function(e){return a(e.target.value)}})})]})}function zt(e){var t=e.bodyErrorMessage,n=e.bodyLettersUpdate,a=e.setBodyLettersUpdate;return Object(G.jsxs)("div",{children:[Object(G.jsxs)("div",{className:"body",children:["Body:",Object(G.jsx)("span",{className:"error-message",children:t})]}),Object(G.jsx)("div",{className:"textfield-body",children:Object(G.jsx)(et.a,{variant:"outlined",multiline:!0,rows:18,name:"body",style:{width:"100%"},value:n,onChange:function(e){return a(e.target.value)}})})]})}function Wt(){var e=Object(W.h)().todoId,t=Object(A.c)(l),n=Object(a.useState)(""),s=Object(J.a)(n,2),r=s[0],c=s[1],i=Object(a.useState)(""),o=Object(J.a)(i,2),d=o[0],j=o[1];Object(a.useEffect)((function(){var n=function(){var n=Object(I.a)(T.a.mark((function n(){var a;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.find((function(t){return t.todoId===e}));case 2:(a=n.sent)&&(c(a.title),j(a.body));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[t,e]);var u=Object(a.useState)(""),b=Object(J.a)(u,2),h=b[0],x=b[1],O=Object(a.useState)(""),p=Object(J.a)(O,2),m=p[0],f=p[1],g=Object(R.b)().currentUser.uid,v=new Date,y=v.getFullYear()+"-"+(v.getMonth()+1)+"-"+v.getDate(),w={userUid:g,title:r,body:d,updatedAt:y},S="Please type something",N=Object(W.g)(),k=Object(A.b)();return Object(G.jsx)("div",{children:Object(G.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(t){if(t.preventDefault(),""===r&&""===d)x(S),f(S);else if(""===r)x(S);else if(""===d)f(S);else try{fetch("".concat(pt,"/update/").concat(e),{method:"PUT",body:JSON.stringify(w),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){200===e.message?(N.push("/dashboard"),k(C({value:!0,message:"Todo updated!",severity:"success"}))):500===e.message&&(N.push("/error"),k(C({value:!0,message:"Something went wrong: backend",severity:"error"})))}))}))}catch(n){N.push("/error"),k(C({value:!0,message:"Something went wrong: frontend",severity:"error"}))}},children:[Object(G.jsx)(Rt,{titleErrorMessage:h,titleLettersUpdate:r,setTitleLettersUpdate:c}),Object(G.jsx)(zt,{bodyErrorMessage:m,bodyLettersUpdate:d,setBodyLettersUpdate:j}),Object(G.jsx)(it,{children:"Update"})]})})}var Bt=function(){return Object(G.jsxs)("div",{style:{textAlign:"center",margin:"100px auto 100px auto",color:"#383838"},children:[Object(G.jsx)("h1",{children:"404 - Not Found :("}),Object(G.jsx)(z.b,{to:"/signin",children:"Go Home"})]})},Jt=function(){return Object(G.jsxs)("div",{style:{textAlign:"center",margin:"100px auto 100px auto",color:"#383838"},children:[Object(G.jsx)("h1",{children:"Sorry, something went wrong :("}),Object(G.jsx)(z.b,{to:"/signin",children:"Go Home"})]})},Yt=n(290),qt=n(288),Gt=s.a.forwardRef((function(e,t){return Object(G.jsx)(qt.a,Object(B.a)({elevation:6,ref:t,variant:"filled"},e))}));function Vt(){var e=Object(A.c)(E),t=Object(A.b)(),n=function(n,a){"clickaway"!==a&&t(C({value:!1,message:"",severity:e.severity}))};return Object(G.jsx)("div",{children:Object(G.jsx)(Yt.a,{open:e.value,autoHideDuration:6e3,onClose:n,children:Object(G.jsx)(Gt,{onClose:n,severity:"".concat(e.severity),sx:{width:"100%"},children:e.message})})})}function Ht(){Object(_.a)(F);var e=Object(A.b)(),t=Object(R.b)();return Object(a.useEffect)((function(){var n=Object(R.c)(t,function(){var n=Object(I.a)(T.a.mark((function n(a){var s,r,c;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=null,!a){n.next=22;break}return e(p(!0)),r=a.uid,c={uid:r},console.log("Auth OK, user logged in ".concat(r)),P()(pt).on("newChangesInTodos",(function(t){e(d(t))})),P()(pt).on("newChangesInProfile",(function(t){e(b(t)),e(v(!1)),console.log("Loading OK")})),console.log("Socket opened"),n.prev=11,n.next=14,fetch("".concat(pt,"/catch-user-uid"),{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){e.json().then((function(e){console.log(e)}))}));case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(11),console.log(n.t0);case 19:a.getIdTokenResult().then((function(e){var n=1e3*e.claims.auth_time,a=36e5-(Date.now()-n);s=setTimeout((function(){return Object(R.e)(t).then((function(){console.log("Session timeout. Sign-out successful.")})).catch((function(e){console.log("Session timeout. Sign-out failed: ".concat(e))}))}),a)})),n.next=26;break;case 22:e(p(!1)),e(v(!1)),clearTimeout(s),s=null;case 26:case"end":return n.stop()}}),n,null,[[11,16]])})));return function(e){return n.apply(this,arguments)}}());return function(){return n((function(){}))}}),[t,e]),Object(G.jsxs)("div",{className:"App",children:[Object(G.jsx)(z.a,{children:Object(G.jsxs)(W.d,{children:[Object(G.jsx)(He,{exact:!0,path:"/signup",component:dt}),Object(G.jsx)(He,{exact:!0,path:"/signin",component:ut}),Object(G.jsx)(Ge,{exact:!0,path:"/dashboard",component:vt}),Object(G.jsx)(Ge,{exact:!0,path:"/account",component:Mt}),Object(G.jsx)(Ge,{exact:!0,path:"/create",component:Ft}),Object(G.jsx)(Ge,{exact:!0,path:"/update/:todoId",component:Wt}),Object(G.jsx)(W.b,{exact:!0,path:"/error",component:Jt}),Object(G.jsx)(W.b,{component:Bt})]})}),Object(G.jsx)(Vt,{})]})}c.a.render(Object(G.jsx)(s.a.StrictMode,{children:Object(G.jsx)(A.a,{store:U,children:Object(G.jsx)(Ht,{})})}),document.getElementById("root"))}},[[231,1,2]]]);
//# sourceMappingURL=main.9887ac79.chunk.js.map